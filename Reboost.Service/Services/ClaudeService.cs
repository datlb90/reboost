using System;
using OpenAI_API;
using OpenAI_API.Chat;
using Reboost.Shared;
using System.Threading.Tasks;

namespace Reboost.Service.Services
{
    public class ClaudeService
    {
        private string CLAUDE_API_KEY = "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";
        private string PPLX_API_KEY = "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";
        private string prompt = "Cho bài luận IELTS Writing Task 2 sau đây:\n\nPeople hold controversial views about whether conflict between teenagers and their parents is an indispensable part of the growing-up process or not. In my opinion, the positive aspects of this trend are far overshadowed by the negative ones.\n\nOn the one hand, there are compelling reasons why antagonism between teenagers and their parents play a crucial role in the self-developing process. Firstly, when teenagers have several dissensions with their parents and resolve them, their relationship can be reinforced because parents would learn how to empathize with their children, which leads to the collective thoughts among the family and the members may understand each other thoroughly. Secondly, teenagers who undergo a few conflicts with their parents could develop specific skills such as problem-solving skills, critical thinking skills or conflict resolution skills. This may assist them effectively when integrating the environment with a new community or even when applying for a job. For instance, they can utilize those skills for job interviews, which may increase the opportunity of employment and also have a positive influence on the interviewers.\n\nOn the other hand, I would argue that teenage conflict should be avoided on account of its adverse impacts. First of all, in adolescence, children are easily affected by a host of problems and conflict with parents is not an exception.Therefore, usual quarrels can have a detrimental effect on teenages’ mental health, which may lead to several psychological diseases such as depression or anxiety disorders. For example, parents sometimes put pressure on their children regarding getting good grades, which causes an obsession of achievement among teenagers. Secondly, having an excessive number of disagreements could widen the generation gap among family members. Hence, teenagers can be isolated in their own family, which thus prompts their antipathy towards their parents.\n\nIn conclusion, while there are some merits of having conflict between teenagers and parents, I still approve of those who believe that this inclination should be alleviated in order to mitigate problems in adolescence.\n\nCung cấp đánh giá chi tiết và gợi ý cải thiện cho bài luận sử dụng định dạng JSON. Đối tượng JSON bao gồm các thuộc tính sau:\n1. answeringAllParts: bao gồm 3 thuộc tính:\n- assessment: đánh giá chi tiết về bài luận cho tiêu chí Answering All Parts Of The Question\n- howtoImprove: gợi ý cải thiện kèm theo giải thích và ví dụ cụ thể\n- score: điểm số từ 1.0 tới 9.0 của bài luận cho tiêu chí Answering All Parts Of The Question\n\n\n2. Clarityofposition: bao gồm 3 thuộc tính:\n- assessment: đánh giá chi tiết về bài luận cho tiêu chí Clarity of Position\n- howtoImprove: gợi ý cải thiện kèm theo giải thích và ví dụ cụ thể\n- score: điểm số từ 1.0 tới 9.0 của bài luận cho tiêu chí Clarity of Position\n\n3. developmentOfIdeas: bao gồm 3 thuộc tính:\n- assessment: đánh giá chi tiết về bài luận cho tiêu chí Development of ideas\n- howtoImprove: gợi ý cải thiện kèm theo giải thích và ví dụ cụ thể.\n- score: điểm số từ 1.0 tới 9.0 của bài luận cho tiêu chí Development of ideas\n\n\n4. justificationOfOpinion: bao gồm 3 thuộc tính:\n- assessment: đánh giá chi tiết về bài luận cho tiêu chí Justification of Opinions\n- howtoImprove: gợi ý cải thiện kèm theo giải thích và ví dụ cụ thể\n- score: điểm số từ 1.0 tới 9.0 của bài luận cho tiêu chí Justification of Opinions\n\n5. score: điểm số từ 1.0 tới 9.0 của bài luận cho tiêu chí Task Response.\n\nProvide your response in Vietnamese. Try to be verbose as much as possible\n";
        string test = "Given the following IELT Writing Task 2 topic:\n\nSome people view teenage conflict with their parents as a necessary part of growing up, whilst others see it as something negative which should be avoided. Discuss both views and give your own opinion.\n\nAnd the following response essay for the topic:\n\nPeople hold controversial views about whether conflict between teenagers and their parents is an indispensable part of the growing-up process or not. In my opinion, the positive aspects of this trend are far overshadowed by the negative ones.\n\nOn the one hand, there are compelling reasons why antagonism between teenagers and their parents play a crucial role in the self-developing process. Firstly, when teenagers have several dissensions with their parents and resolve them, their relationship can be reinforced because parents would learn how to empathize with their children, which leads to the collective thoughts among the family and the members may understand each other thoroughly. Secondly, teenagers who undergo a few conflicts with their parents could develop specific skills such as problem-solving skills, critical thinking skills or conflict resolution skills. This may assist them effectively when integrating the environment with a new community or even when applying for a job. For instance, they can utilize those skills for job interviews, which may increase the opportunity of employment and also have a positive influence on the interviewers.\n\nOn the other hand, I would argue that teenage conflict should be avoided on account of its adverse impacts. First of all, in adolescence, children are easily affected by a host of problems and conflict with parents is not an exception.Therefore, usual quarrels can have a detrimental effect on teenages’ mental health, which may lead to several psychological diseases such as depression or anxiety disorders. For example, parents sometimes put pressure on their children regarding getting good grades, which causes an obsession of achievement among teenagers. Secondly, having an excessive number of disagreements could widen the generation gap among family members. Hence, teenagers can be isolated in their own family, which thus prompts their antipathy towards their parents.\n\nIn conclusion, while there are some merits of having conflict between teenagers and parents, I still approve of those who believe that this inclination should be alleviated in order to mitigate problems in adolescence.\n\n\nProvide detailed assessment and suggestions for improvement for the essay for the following criterion\n- Answering all parts of the questions\n- Clarity of position\n- Development of ideas\n- Justification of opinion\n";
        string test1 = "Given the following IELT Writing Task 2 topic:\n\nSome people view teenage conflict with their parents as a necessary part of growing up, whilst others see it as something negative which should be avoided. Discuss both views and give your own opinion.\n\nAnd the following response essay for the topic:\n\nPeople hold controversial views about whether conflict between teenagers and their parents is an indispensable part of the growing-up process or not. In my opinion, the positive aspects of this trend are far overshadowed by the negative ones.\n\nOn the one hand, there are compelling reasons why antagonism between teenagers and their parents play a crucial role in the self-developing process. Firstly, when teenagers have several dissensions with their parents and resolve them, their relationship can be reinforced because parents would learn how to empathize with their children, which leads to the collective thoughts among the family and the members may understand each other thoroughly. Secondly, teenagers who undergo a few conflicts with their parents could develop specific skills such as problem-solving skills, critical thinking skills or conflict resolution skills. This may assist them effectively when integrating the environment with a new community or even when applying for a job. For instance, they can utilize those skills for job interviews, which may increase the opportunity of employment and also have a positive influence on the interviewers.\n\nOn the other hand, I would argue that teenage conflict should be avoided on account of its adverse impacts. First of all, in adolescence, children are easily affected by a host of problems and conflict with parents is not an exception.Therefore, usual quarrels can have a detrimental effect on teenages’ mental health, which may lead to several psychological diseases such as depression or anxiety disorders. For example, parents sometimes put pressure on their children regarding getting good grades, which causes an obsession of achievement among teenagers. Secondly, having an excessive number of disagreements could widen the generation gap among family members. Hence, teenagers can be isolated in their own family, which thus prompts their antipathy towards their parents.\n\nIn conclusion, while there are some merits of having conflict between teenagers and parents, I still approve of those who believe that this inclination should be alleviated in order to mitigate problems in adolescence.\n\n\nProvide detailed assessment and suggestions for improvement for the essay using JSON format. The JSON object contains the following properties:\n1. answeringAllParts: contains 2 properties:\n- assessment: detailed assessment of the essay on the Answering All Parts Of The Question criterion\n- howtoImprove: suggestions for improvement with detailed explanation and specific examples.\n\n\n2. Clarityofposition: contains 2 properties:\n- assessment: detailed assessment of the essay on the Clarity of Position criterion\n- howtoImprove: suggestions for improvement with detailed explanation and specific examples.\n\n3. developmentOfIdeas: contains 2 properties:\n- assessment: detailed assessment of the essay on the Development of Ideas criterion\n- howtoImprove: suggestions for improvement with detailed explanation and specific examples.\n\n4. justificationOfOpinion: contains 2 properties:\n- assessment: detailed assessment of the essay on the Justification of Opinions criterion\n- howtoImprove: suggestions for improvement with detailed explanation and specific examples.\n";
        string test2 = "The given pie chart shows the percentage of 3 types of workers having different birthplaces in Australia in 2003 and the line graph lying next to illustrates the unemployment rate of those groups of people over a decade, from 1993 to 2003. Overall, data for people who were given birth in domestic areas was the highest figure among the 3 places of birth while all the related jobless rates experienced a drop with different extents throughout the period.\n\nRegarding the pie chart, ranked in the first place was the proportion for native workers with over nearly a four fifths people in the workforce were born in Australia, this figure greatly exceeded the 2 two remaining group: 5 times higher than the data for employees born in countries where English is not spoken with the related percentage being 14% and nearly 8 times as high as the figure for workers coming from countries using this language, only 10%.\n\nLooking at the line graph, the unemployment rate among NESC was initially 8% in 1993 before mildly fluctuating during the second-half years of the report and eventually ended its period at 3% in 2003. At the same time, that of Australian workers and ESC both stood at around 4% in the first year, practically followed the same pattern with each other and eventually reached their bottom at the end of the period, with respective figures being 2% and 1%. \n";
        string test3 = "In these days and ages, natural resources in the earth are gradually depleted by overexploitation of humans. This essay attempts to shed light on the dangers which have resulted from this tendency before outlining several viable solutions that should be adopted to tackle them.\nThere are two main dangers for using natural resources in the world at a high level. Firstly, it could cause the contamination of air. To illustrate, the overburning of carbon-intensive energy sources could create a host of exhaust fumes which is the primary reason for environmental pollution, so it has detrimental effects on people’s health for instance respiratory infection, asthma, lung cancer. Secondly, this problem is likely to have negative impacts on the financial crisis. To be more specific, the overexploitation of natural resources could lead to shortage of raw materials so it could create inflation which is one of the pressing issues for customers; therefore people would have a myriad of difficulties paying basic demand.\nTo combat this worrying issue, the following essential steps should be taken. One solution is that the government should introduce and develop alternative energy sources. Given that if people consume a host of clear energy resources including water energy, wind and solar energy, it could minimize human reliance on natural resources; for instance, wind turbines are now set up in many areas all over the world to produce a lot of electricity for daily activities. Another solution is that the authorities could heavily fine who overexploited which could act as a deterrent for those intending to have similar actions.\n\nIn conclusion, the overconsumption of natural resources in the world could lead to result in air pollution financial crisis, and it is crucial that the aforementioned measures including alternative energy and fining money be implemented to deal with this issue";

        string test4 = "Given the following IELT Writing Task 2 topic:\n\nSome people view teenage conflict with their parents as a necessary part of growing up, whilst others see it as something negative which should be avoided. Discuss both views and give your own opinion.\n\nAnd the following response essay for the topic:\n\nPeople hold controversial views about whether conflict between teenagers and their parents is an indispensable part of the growing-up process or not. In my opinion, the positive aspects of this trend are far overshadowed by the negative ones.\n\nOn the one hand, there are compelling reasons why antagonism between teenagers and their parents play a crucial role in the self-developing process. Firstly, when teenagers have several dissensions with their parents and resolve them, their relationship can be reinforced because parents would learn how to empathize with their children, which leads to the collective thoughts among the family and the members may understand each other thoroughly. Secondly, teenagers who undergo a few conflicts with their parents could develop specific skills such as problem-solving skills, critical thinking skills or conflict resolution skills. This may assist them effectively when integrating the environment with a new community or even when applying for a job. For instance, they can utilize those skills for job interviews, which may increase the opportunity of employment and also have a positive influence on the interviewers.\n\nOn the other hand, I would argue that teenage conflict should be avoided on account of its adverse impacts. First of all, in adolescence, children are easily affected by a host of problems and conflict with parents is not an exception.Therefore, usual quarrels can have a detrimental effect on teenages’ mental health, which may lead to several psychological diseases such as depression or anxiety disorders. For example, parents sometimes put pressure on their children regarding getting good grades, which causes an obsession of achievement among teenagers. Secondly, having an excessive number of disagreements could widen the generation gap among family members. Hence, teenagers can be isolated in their own family, which thus prompts their antipathy towards their parents.\n\nIn conclusion, while there are some merits of having conflict between teenagers and parents, I still approve of those who believe that this inclination should be alleviated in order to mitigate problems in adolescence.\n\nProvide a detailed assessment and suggestions for improvement for the essay using JSON format. The JSON object should contain the following properties:\n\n1. answeringAllParts:\n- assessment: A detailed evaluation of how well the essay addresses all parts of the question.\n\n2. clarityOfPosition:\n- assessment: A detailed evaluation of the clarity of the author’s position and how well it is maintained throughout the essay.\n3. developmentOfIdeas:\n- assessment: A detailed evaluation of how well the essay develops its ideas.\n\n4. justificationOfOpinion:\n- assessment: A detailed evaluation of how effectively the essay justifies its opinions with logical reasoning and evidence.\n\nEach property should also include:\n- howtoImprove: suggestions for improvement with detailed explanations and specific examples.\n- score: A score from 1.0 to 9.0 for the essay for that criterion\n\nProvide your response in Vietnamse.\n";
        string test5 = "Given the following IELT Writing Task 2 topic:\n\nSome people view teenage conflict with their parents as a necessary part of growing up, whilst others see it as something negative which should be avoided. Discuss both views and give your own opinion.\n\nAnd the following response essay for the topic:\n\nPeople hold controversial views about whether conflict between teenagers and their parents is an indispensable part of the growing-up process or not. In my opinion, the positive aspects of this trend are far overshadowed by the negative ones.\n\nOn the one hand, there are compelling reasons why antagonism between teenagers and their parents play a crucial role in the self-developing process. Firstly, when teenagers have several dissensions with their parents and resolve them, their relationship can be reinforced because parents would learn how to empathize with their children, which leads to the collective thoughts among the family and the members may understand each other thoroughly. Secondly, teenagers who undergo a few conflicts with their parents could develop specific skills such as problem-solving skills, critical thinking skills or conflict resolution skills. This may assist them effectively when integrating the environment with a new community or even when applying for a job. For instance, they can utilize those skills for job interviews, which may increase the opportunity of employment and also have a positive influence on the interviewers.\n\nOn the other hand, I would argue that teenage conflict should be avoided on account of its adverse impacts. First of all, in adolescence, children are easily affected by a host of problems and conflict with parents is not an exception.Therefore, usual quarrels can have a detrimental effect on teenages’ mental health, which may lead to several psychological diseases such as depression or anxiety disorders. For example, parents sometimes put pressure on their children regarding getting good grades, which causes an obsession of achievement among teenagers. Secondly, having an excessive number of disagreements could widen the generation gap among family members. Hence, teenagers can be isolated in their own family, which thus prompts their antipathy towards their parents.\n\nIn conclusion, while there are some merits of having conflict between teenagers and parents, I still approve of those who believe that this inclination should be alleviated in order to mitigate problems in adolescence.\n\nProvide a detailed assessment and suggestions for improvement for the essay using JSON format. The JSON object should contain the following properties:\n\n1. score: the score of the essay for the Task Response criterion (using IELTS band score in whole number)\n\n2. answeringAllParts:\n- assessment: A detailed evaluation of how well the essay addresses all parts of the question.\n\n3. clarityOfPosition:\n- assessment: A detailed evaluation of the clarity of the author’s position and how well it is maintained throughout the essay.\n4. developmentOfIdeas:\n- assessment: A detailed evaluation of how well the essay develops its ideas.\n\n5. justificationOfOpinion:\n- assessment: A detailed evaluation of how effectively the essay justifies its opinions with logical reasoning and evidence.\n\nExcept score, each property should also include:\n- howtoImprove: suggestions for improvement with detailed explanations and specific examples.\n\nProvide your response in Vietnamse and be very verbosed.\n";

        string test6 = "In today's globalized world, there is no doubt that in this digital age, people tend to easily access to news via newspaper or TV thanks to the advanced technology. Therefore, there is a controversy that if this media tools show detailed descriptions of crime scenes, these will have a bad influence on the public. From my perspective, although I agree that this crime scenes might have a range of detrimental effects on the residents, I still believe that people can gain numerous benefits from this issue.\n\nOn the one hand, revealing some descriptions of criminal activities can negatively affect individuals for some reasons. First of all, it is severe to allow children to watch this type of scenes as they will immitate the criminal's action without awareness, therefore posing a threat to society about juvenile crimes. Moreover, these scenes might raise the fear among residents due to the feeling of having no protection, thereby lessening the reputation of police officer as they cannot prevent all unlawful acts.\n\nOn the other hand, this kind of news still has advantages among not only individuals but also the governments. First and foremost, crime scene plays a paramount important role in raising awareness among inhabitants about not committing a crime. For instance, if people observe some serious punishments that are put on prisoners, they will tend to eliminate criminal activities for their well-being. Additionally, the governments can easily impart a significant number of lessons through these detailed descriptions in order to teach children. For example, it is necessary to educate kids from a young age to not commit an offence, thereby, using crime scenes with colourful images can teach them more effectively.\n\nIn conclusion, I partly disagree that this kind of information should be restricted in the mass media due to its tremendous benefits that help form the society to ensure a better quality of life for residents.\n";
        string test7 = "Provide a detailed assessment and suggestions for improvement for the essay using JSON format. The JSON object should contain the following properties:\n\n1. score: the score of the essay for the Task Response criterion (using IELTS band score in whole number)\n\n2. logicalOrganization:\n- assessment: A detailed evaluation of how clear and logical the structure of the essay is.\n\n3. paragraphing:\n- assessment: A detailed evaluation of the effectiveness of the essay's paragraph structure.\n\n4. cohesiveDevices:\n- assessment: A detailed evaluation of how appropriately cohesive devices are used in the essay.\n\nExcept score, each property should also include:\n- howtoImprove: suggestions for improvement with detailed explanations and specific examples.\n\nProvide your response in Vietnamse. Be as verbose as possible.\n";
        string test8 = "The given bar chart illustrates the proportion of women who gave birth to their first child in Australia in the years of 1966, 1986 and 2006. \nOverall, it is noticeable that the average age of Australian women giving birth for the first time increased through the given time. Additionally, the figure for women over 40 years old experienced the lowest percentage in 6 different age periods.\nRegarding under 19, 19-24, 25-30 years old, the percentage of women under 19 and 19-24 year-old declined significantly from around 32% in 1966 to about 11% in 2006 and from over 60% in 1966 to under 30% in 2006 respectively. With the exception of the increase in the 25-30 year old women figure, from approximately 35% at the first year given rose to about 38% in 2006, with a peak at 50% in 1986.\nTurning to the age of 30-34, 34-39 and over 40 years old women, they witnessed the growth through the years, especially the 30-34 year-old women figure, which rocketed from only about 11% in 1966 to approximately 45% in 2006. Additionally, the number of women between 34 and 39 years old also had a significant rise, which experienced 30% in 2006, roughly three times higher than in 1966, about 9%. About over 40 women, it was the approximately similar percentage and 2006 had the highest percentage, at about 5% women. \n";

        string test9 = "The young joblessness tend to . This essay will discuss the impact of the unemployment crisis on the young generation and society, along with potential solutions.\nMany fresh graduates experiencing the period of joblessness, which bring forth significant challenges, particularly setbacks for themselves and their country. The unemployment situation directly affecting incomes and life of labors, especially fresh graduates. This indicates that young ones juggle multiple responsibilities including family obligations, financial pressures. These competing demands can make them get a job unrelated to their degree, seasonal job, even do manual work. These individuals have to suffer from social pressures, even suffer from a mental ailment. This alarming trend does not only exert adverse effects on youngsters but also on society. This means that the unemployment places greater burden on social security and makes economic growth stage. This is because unemployed person are prone to lure into social evils such as theft, offenses, a card dueling game and so on, resulting in unbalanced society. \ndespite these problem actions can be taken to mitigate the situation. First and foremost, universities should hold the program to connect between enterprises and fresh graduates This offer young ones the opportunity to apply for positions that align with them. This strategy has been successfully employed on universities in Canada, where has been ranked among the top ten lowest unemployment rates globally, promoting a social equality. To address the unemployment crisis, all individuals should identify their strength and your priorities and put their strength and your priorities and put their energy there. Therefore, they can develop their career, optimize equality in society, leading to the growth of economy. By implementing these solution, so many countries can effect actively mitigate the unemployment crisis for young people and society. \nin conclusion, the significant increase of unemployment among young people presents a distinct set of challenges for themselves and their country. Addressing these challenges through job connection day and the efforts of young ones, can promote the development and integration of she country.";
    }
}

