(function(t){function e(e){for(var o,a,s=e[0],c=e[1],u=e[2],l=0,p=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},i=[];function a(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"ce9a68d4"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise((function(e,o){n=r[t]=[e,o]}));e.push(n[2]=o);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=a(t);var u=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,n[1](u)}r[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("85ec"),r=n.n(o);r.a},"0570":function(t,e,n){},1:function(t,e){},"1ba5":function(t,e,n){},2:function(t,e){},3:function(t,e){},"31c2":function(t,e,n){"use strict";n.r(e),n.d(e,"filterAsyncRoutes",(function(){return c}));n("a4d3"),n("99af"),n("4de4"),n("caad"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("2532"),n("159b");var o=n("ade3"),r=n("a18c");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){return!e.meta||!e.meta.roles||t.some((function(t){return e.meta.roles.includes(t)}))}function c(t,e){var n=[];return t.forEach((function(t){var o=a({},t);s(e,o)&&(o.children&&(o.children=c(o.children,e)),n.push(o))})),n}var u={routes:[],addRoutes:[]},l={SET_ROUTES:function(t,e){t.addRoutes=e,t.routes=r["b"].concat(e)},CLEAR_ROUTES:function(t){t.addRoutes=[],t.routes=[]}},d={generateRoutes:function(t){var e=t.commit;return new Promise((function(t){var n=r["a"];e("SET_ROUTES",n),t(n)}))}};e["default"]={namespaced:!0,state:u,mutations:l,actions:d}},4:function(t,e){},4360:function(t,e,n){"use strict";n("d3b7"),n("5319"),n("ddb0");var o=n("2b0e"),r=n("2f62"),i=(n("b0c0"),{sidebar:function(t){return t.app.sidebar},size:function(t){return t.app.size},device:function(t){return t.app.device},visitedViews:function(t){return t.tagsView.visitedViews},cachedViews:function(t){return t.tagsView.cachedViews},token:function(t){return t.user.token},avatar:function(t){return t.user.avatar},name:function(t){return t.user.name},introduction:function(t){return t.user.introduction},roles:function(t){return t.user.roles},permission_routes:function(t){return t.permission.routes},errorLogs:function(t){return t.errorLog.logs}}),a=i;o["default"].use(r["a"]);var s=n("c653"),c=s.keys().reduce((function(t,e){var n=e.replace(/^\.\/(.*)\.\w+$/,"$1"),o=s(e);return t[n]=o.default,t}),{}),u=new r["a"].Store({modules:c,getters:a});e["a"]=u},"4b67":function(t,e,n){},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.$route.meta.plainLayout?t._e():n("div",[n("layout")],1),t.$route.meta.plainLayout?n("div",{attrs:{id:"content-wrapper"}},[n("router-view")],1):t._e()])},i=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-wrapper"},[n("div",{staticClass:"main-container"},[n("div",[n("navbar")],1),n("app-main")],1)])},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-main"},[n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("keep-alive",[n("router-view")],1)],1)],1)},u=[],l={name:"AppMain"},d=l,p=n("2877"),m=Object(p["a"])(d,c,u,!1,null,null,null),h=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navBar",staticStyle:{background:"white","border-bottom":"1px solid #dcdfe6",height:"46px"}},[n("el-button",{staticClass:"logo-btn expand",staticStyle:{float:"left","margin-top":"3px","margin-left":"20px"},attrs:{type:"primary",plain:""}},[t._v(" Reboost Logo ")]),n("el-menu",{staticClass:"el-menu-demo",staticStyle:{"margin-left":"25px",float:"left"},attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},t._l(t.permission_routes,(function(e,o){return n("el-menu-item",{key:e.path,attrs:{index:(o+1).toString(),"base-path":e.path}},[t._v(" "+t._s(e.name)+" ")])})),1),n("div",{staticClass:"right-menu",staticStyle:{float:"right","margin-top":"12px"}})],1)},f=[],v=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),y=n("2f62");function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){Object(v["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var w={name:"NavBar",data:function(){return{activeIndex:"1"}},computed:x({},Object(y["b"])(["permission_routes"])),methods:{handleSelect:function(t){this.$router.push(this.permission_routes[t-1].path).catch((function(){}))}}},A=w,C=(n("c616"),n("614f"),Object(p["a"])(A,g,f,!1,null,"0396ad19",null)),E=C.exports,S={name:"Layout",components:{AppMain:h,Navbar:E}},I=S,k=(n("f691"),Object(p["a"])(I,a,s,!1,null,"59d714a1",null)),L=k.exports,_={name:"App",components:{layout:L}},P=_,R=(n("034f"),Object(p["a"])(P,r,i,!1,null,null,null)),T=R.exports,N=n("a18c"),O=n("4360"),B=(n("0fae"),n("5c96")),j=n.n(B),q=n("b2d6"),H=n.n(q),F=(n("15f5"),n("7051"),n("a5d8"),n("a3ad")),D=n.n(F),M=n("4f76"),U=n.n(M),z=n("2b27"),$=n.n(z);o["default"].use($.a),o["default"].use(D.a),o["default"].use(U.a),o["default"].use(j.a,{locale:H.a}),o["default"].config.productionTip=!1,new o["default"]({router:N["c"],store:O["a"],render:function(t){return t(T)}}).$mount("#app")},6:function(t,e){},"614f":function(t,e,n){"use strict";var o=n("b0b5"),r=n.n(o);r.a},6791:function(t,e,n){},7467:function(t,e,n){},"85ec":function(t,e,n){},"915e":function(t,e,n){"use strict";var o=n("6791"),r=n.n(o);r.a},"92c2":function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="92c2"},a18c:function(t,e,n){"use strict";n("c975"),n("d3b7"),n("96cf");var o=n("2b0e"),r=n("8c4f"),i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"background"})])}],s={name:"Home",mounted:function(){document.documentElement.style.height="100%",document.body.style.height="100%",document.getElementById("app").style.height="100%",document.getElementById("content-wrapper").style.height="100%"},methods:{login:function(){this.$router.push("/test")}}},c=s,u=(n("915e"),n("2877")),l=Object(u["a"])(c,i,a,!1,null,"59333e48",null),d=l.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._m(1),n("div",{attrs:{id:"content-wrapper"}},[n("div",{staticClass:"pdfViewer",style:{width:t.viewerWidth+"px"},attrs:{id:"viewer","document-id":t.documentId}})]),n("div",{attrs:{id:"comment-wrapper"}},[n("el-card",{staticClass:"box-card add-new-comment",staticStyle:{width:"100%",display:"none"},attrs:{id:"add-new-comment"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("div",[n("div",{staticStyle:{"font-size":"15px","font-weight":"bold","text-align":"left"}},[t._v(" Dat Le ")])])]),n("div",[n("el-input",{attrs:{id:"comment-text-area",type:"textarea",autosize:"",placeholder:"Add comment"},model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}}),n("div",{staticStyle:{height:"20px","margin-top":"10px"}},[n("el-button",{staticStyle:{float:"left",padding:"5px"},attrs:{type:"primary",disabled:0==t.newComment.replace(/\s/g,"").length},on:{click:function(e){return t.addCommentText()}}},[t._v(" Comment ")]),n("el-button",{staticStyle:{float:"right",padding:"5px"},on:{click:function(e){return t.cancelCommentText()}}},[t._v(" Cancel ")])],1)],1)]),t._l(t.comments,(function(e,o){return n("el-card",{key:e.uuid,staticClass:"box-card comment-card",style:{top:e.topPosition+"px",width:"100%"},attrs:{"highlight-id":e.uuid,"top-position":e.topPosition}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("div",[n("div",{staticStyle:{"font-size":"15px","font-weight":"bold","text-align":"left"}},[t._v(" Dat Le ")]),n("div",{staticStyle:{"font-size":"12px","text-align":"left"}},[t._v(" 3:16 PM Jul 7 ")])]),n("el-button",{staticClass:"action-card-btn",staticStyle:{right:"-10px"},attrs:{title:"Delete Comment"},on:{click:function(n){return t.deleteCommentCard(e)}}},[n("i",{staticClass:"far fa-trash-alt"})]),n("el-button",{staticClass:"action-card-btn",staticStyle:{right:"10px"},attrs:{title:"Edit Comment"},on:{click:function(n){return t.displayEditComment(e,o)}}},[n("i",{staticClass:"far fa-edit"})])],1),n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isSelected,expression:"!comment.isSelected"}],staticStyle:{"text-align":"left","overflow-wrap":"break-word","white-space":"pre-wrap"},attrs:{id:"comment-text-"+e.uuid}},[t._v(" "+t._s(e.content)+" ")]),n("el-input",{directives:[{name:"show",rawName:"v-show",value:1==e.isSelected,expression:"comment.isSelected == true"}],ref:"comment"+e.uuid,refInFor:!0,attrs:{id:"comment-input-"+e.uuid,type:"textarea",autosize:""},model:{value:e.content,callback:function(n){t.$set(e,"content",n)},expression:"comment.content"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isSelected,expression:"comment.isSelected == true"}],staticStyle:{height:"20px","margin-top":"10px"}},[n("el-button",{staticStyle:{float:"left",padding:"5px"},attrs:{type:"primary",disabled:0==e.content.replace(/\s/g,"").length},on:{click:function(e){return t.editCommentCard()}}},[t._v(" Comment ")]),n("el-button",{staticStyle:{float:"right",padding:"5px"},on:{click:function(e){return t.cancelCommentText()}}},[t._v(" Cancel ")])],1)],1)])}))],2),n("el-button-group",{staticStyle:{display:"none"},attrs:{id:"textTool"}},[n("el-button",{staticClass:"textToolBtn",on:{click:function(e){return t.HighlightText()}}},[n("i",{staticClass:"fas fa-highlighter"})]),n("el-button",{staticClass:"textToolBtn",on:{click:function(e){return t.StrikethroughText()}}},[n("i",{staticClass:"fas fa-strikethrough"})]),n("el-button",{staticClass:"textToolBtn",attrs:{id:"comment-text"},on:{click:function(e){return t.CommentText()}}},[n("i",{staticClass:"fas fa-comment-alt"})])],1)],1)},m=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar"},[n("button",{staticClass:"cursor",attrs:{type:"button",title:"Cursor","data-tooltype":"cursor"}},[t._v(" âžš ")]),n("div",{staticClass:"spacer"}),n("button",{staticClass:"rectangle",attrs:{type:"button",title:"Rectangle","data-tooltype":"area"}}),n("button",{staticClass:"highlight",attrs:{type:"button",title:"Highlight","data-tooltype":"highlight"}}),n("button",{staticClass:"strikeout",attrs:{type:"button",title:"Strikeout","data-tooltype":"strikeout"}}),n("div",{staticClass:"spacer"}),n("button",{staticClass:"text",attrs:{type:"button",title:"Text Tool","data-tooltype":"text"}}),n("select",{staticClass:"text-size"}),n("div",{staticClass:"text-color"}),n("div",{staticClass:"spacer"}),n("div",{staticClass:"spacer"}),n("button",{staticClass:"comment",attrs:{type:"button",title:"Comment","data-tooltype":"point"}},[t._v(" ðŸ—¨ ")]),n("div",{staticClass:"spacer"}),n("select",{staticClass:"scale"},[n("option",{attrs:{value:".5"}},[t._v(" 50% ")]),n("option",{attrs:{value:"1"}},[t._v(" 100% ")]),n("option",{attrs:{value:"1.33"}},[t._v(" 133% ")]),n("option",{attrs:{value:"1.5"}},[t._v(" 150% ")]),n("option",{attrs:{value:"2"}},[t._v(" 200% ")])]),n("a",{staticClass:"rotate-ccw",attrs:{href:"javascript://",title:"Rotate Counter Clockwise"}},[t._v("âŸ²")]),n("a",{staticClass:"rotate-cw",attrs:{href:"javascript://",title:"Rotate Clockwise"}},[t._v("âŸ³")]),n("div",{staticClass:"spacer"}),n("a",{staticClass:"clear",attrs:{href:"javascript://",title:"Clear"}},[t._v("Ã—")]),n("button",{attrs:{id:"restore",title:"Restore"}},[t._v(" Restore ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"rubric-wrapper"}},[n("h4",[t._v("Rubrics")])])}],h=(n("4de4"),n("c740"),n("d81d"),n("fb6a"),n("4e82"),n("acd8"),n("e25e"),n("25f0"),n("5319"),n("498a"),n("159b"),n("2909")),g=(n("b4e9"),n("f882"),n("0570"),n("4b0a")),f=n.n(g),v=(n("b64b"),n("d4ec")),y=n("bee2");function b(t){throw new Error(t+" is not implemented")}var x=n("faa1"),w=n.n(x),A=(n("caad"),n("a434"),n("1276"),n("ea71")),C=n.n(A),E="#00BFFF",S=C()({body:{"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}});function I(t){var e=t;while((e=e.parentNode)&&e!==document)if("SVG"===e.nodeName.toUpperCase()&&"true"===e.getAttribute("data-pdf-annotate-container"))return e;return null}function k(t,e){for(var n=document.querySelectorAll('svg[data-pdf-annotate-container="true"]'),o=0,r=n.length;o<r;o++){var i=n[o],a=i.getBoundingClientRect();if(_(t,e,a))return i}return null}function L(t,e){var n=k(t,e);if(n){for(var o=n.querySelectorAll("[data-pdf-annotate-type]"),r=0,i=o.length;r<i;r++){var a=o[r];if(_(t,e,P(a)))return a}return null}}function _(t,e,n){return e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right}function P(t){var e=R(t),n=O(t),o=n.offsetLeft,r=n.offsetTop;return{top:e.top+r,left:e.left+o,right:e.right+o,bottom:e.bottom+r}}function R(t){var e=0,n=0,o=0,r=0,i=t.getBoundingClientRect(),a=16;switch(t.nodeName.toLowerCase()){case"path":var s,c,u,l;t.getAttribute("d").replace(/Z/,"").split("M").splice(1).forEach((function(t){var e=t.split(" ").map((function(t){return parseInt(t,10)}));("undefined"===typeof s||e[0]<s)&&(s=e[0]),("undefined"===typeof c||e[2]>c)&&(c=e[2]),("undefined"===typeof u||e[1]<u)&&(u=e[1]),("undefined"===typeof l||e[3]>l)&&(l=e[3])})),e=l-u,n=c-s,o=s,r=u;break;case"line":e=parseInt(t.getAttribute("y2"),10)-parseInt(t.getAttribute("y1"),10),n=parseInt(t.getAttribute("x2"),10)-parseInt(t.getAttribute("x1"),10),o=parseInt(t.getAttribute("x1"),10),r=parseInt(t.getAttribute("y1"),10),0===e&&(e+=a,r-=a/2);break;case"text":e=i.height,n=i.width,o=parseInt(t.getAttribute("x"),10),r=parseInt(t.getAttribute("y"),10)-e;break;case"g":var d=O(t),p=d.offsetLeft,m=d.offsetTop;e=i.height,n=i.width,o=i.left-p,r=i.top-m,"strikeout"===t.getAttribute("data-pdf-annotate-type")&&(e+=a,r-=a/2);break;case"rect":case"svg":e=parseInt(t.getAttribute("height"),10),n=parseInt(t.getAttribute("width"),10),o=parseInt(t.getAttribute("x"),10),r=parseInt(t.getAttribute("y"),10);break}var h={top:r,left:o,width:n,height:e,right:o+n,bottom:r+e};return["svg","g"].includes(t.nodeName.toLowerCase())||(h=T(k(i.left,i.top),h)),h}function T(t,e){var n={},o=q(t),r=o.viewport;return Object.keys(e).forEach((function(t){n[t]=e[t]*r.scale})),n}function N(t,e){var n={},o=q(t),r=o.viewport;return Object.keys(e).forEach((function(t){n[t]=e[t]/r.scale})),n}function O(t){var e=t;while((e=e.parentNode)&&e!==document)if("SVG"===e.nodeName.toUpperCase())break;var n=e.getBoundingClientRect();return{offsetLeft:n.left,offsetTop:n.top}}function B(){S.parentNode||document.head.appendChild(S)}function j(){S.parentNode&&S.parentNode.removeChild(S)}function q(t){return{documentId:t.getAttribute("data-pdf-annotate-document"),pageNumber:parseInt(t.getAttribute("data-pdf-annotate-page"),10),viewport:JSON.parse(t.getAttribute("data-pdf-annotate-viewport"))}}S.setAttribute("data-pdf-annotate-user-select","true");var H,F=new w.a;function D(){F.emit.apply(F,arguments)}function M(){F.on.apply(F,arguments)}function U(){F.removeListener.apply(F,arguments)}document.addEventListener("click",(function(t){if(k(t.clientX,t.clientY)){var e=L(t.clientX,t.clientY);H&&H!==e&&F.emit("annotation:blur",H),e&&F.emit("annotation:click",e),H=e}}));var z=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(v["a"])(this,t),Object.keys(n).forEach((function(t){"function"===typeof n[t]&&"function"===typeof e[t]&&(e[t]=n[t])}))}return Object(y["a"])(t,[{key:"__getAnnotations",value:function(t,e){b("getAnnotations")}},{key:"getAnnotation",value:function(t,e){b("getAnnotation")}},{key:"__addAnnotation",value:function(t,e,n){b("addAnnotation")}},{key:"__editAnnotation",value:function(t,e,n){b("editAnnotation")}},{key:"__deleteAnnotation",value:function(t,e){b("deleteAnnotation")}},{key:"getComments",value:function(t,e){b("getComments")}},{key:"updateComments",value:function(t,e){b("updateComments")}},{key:"__addComment",value:function(t,e,n,o,r){b("addComment")}},{key:"__deleteComment",value:function(t,e){b("deleteComment")}},{key:"getAnnotations",get:function(){return this.__getAnnotations},set:function(t){this.__getAnnotations=function(e,n){return t.apply(void 0,arguments).then((function(t){return t.annotations&&t.annotations.forEach((function(t){t.documentId=e})),t}))}}},{key:"addAnnotation",get:function(){return this.__addAnnotation},set:function(t){this.__addAnnotation=function(e,n,o){return t.apply(void 0,arguments).then((function(t){return D("annotation:add",e,n,t),t}))}}},{key:"editAnnotation",get:function(){return this.__editAnnotation},set:function(t){this.__editAnnotation=function(e,n,o){return t.apply(void 0,arguments).then((function(t){return D("annotation:edit",e,n,t),t}))}}},{key:"deleteAnnotation",get:function(){return this.__deleteAnnotation},set:function(t){this.__deleteAnnotation=function(e,n){return t.apply(void 0,arguments).then((function(t){return t&&D("annotation:delete",e,n),t}))}}},{key:"addComment",get:function(){return this.__addComment},set:function(t){this.__addComment=function(e,n,o,r,i){return t.apply(void 0,arguments).then((function(t){return D("comment:add",e,n.uuid,t),t}))}}},{key:"deleteComment",get:function(){return this.__deleteComment},set:function(t){this.__deleteComment=function(e,n){return t.apply(void 0,arguments).then((function(t){return t&&D("comment:delete",e,n),t}))}}}]),t}(),$=n("99de"),Y=n("7e84"),X=n("262e"),G=/[xy]/g,W="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";function V(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}function J(){return W.replace(G,V)}var Z=function(t){function e(){return Object(v["a"])(this,e),Object($["a"])(this,Object(Y["a"])(e).call(this,{getAnnotations:function(t,e){return new Promise((function(n,o){var r=K(t).filter((function(t){return t.page===e&&"Annotation"===t.class}));n({documentId:t,pageNumber:e,annotations:r})}))},getAnnotation:function(t,e){return Promise.resolve(K(t)[tt(t,e)])},addAnnotation:function(t,e,n){return new Promise((function(o,r){n.class="Annotation",n.uuid=J(),n.page=e;var i=K(t);i.push(n),Q(t,i),console.log(i),o(n)}))},editAnnotation:function(t,e,n){return new Promise((function(o,r){var i=K(t);i[tt(t,e)]=n,Q(t,i),o(n)}))},deleteAnnotation:function(t,e){return new Promise((function(n,o){var r=tt(t,e);if(r>-1){var i=K(t);i.splice(r,1),Q(t,i)}n(!0)}))},getComments:function(t){return new Promise((function(e,n){e(K(t).filter((function(t){return"Comment"===t.class})))}))},addComment:function(t,e,n,o,r){return new Promise((function(i,a){var s={class:"Comment",uuid:e.uuid,annotation:e,content:n,text:o,topPosition:r};console.log(s);var c=K(t);c.push(s),Q(t,c),i(s)}))},updateComments:function(t,e){return new Promise((function(n,o){for(var r=K(t),i=function(t,n){if("Comment"==r[t].class){var o=e.filter((function(e){return e.uuid==r[t].uuid}));o&&o.length>0&&(r[t]=o[0])}},a=0,s=r.length;a<s;a++)i(a,s);Q(t,r),n(!0)}))},deleteComment:function(t,e){return new Promise((function(n,o){K(t);for(var r=-1,i=K(t),a=0,s=i.length;a<s;a++)if(i[a].uuid===e){r=a;break}r>-1&&(i.splice(r,1),Q(t,i)),n(!0)}))}}))}return Object(X["a"])(e,t),e}(z);function K(t){return JSON.parse(localStorage.getItem("".concat(t,"/annotations")))||[]}function Q(t,e){localStorage.setItem("".concat(t,"/annotations"),JSON.stringify(e))}function tt(t,e){for(var n=-1,o=K(t),r=0,i=o.length;r<i;r++)if(o[r].uuid===e){n=r;break}return n}n("99af"),n("2532");var et=n("320c"),nt=n.n(et),ot=/[A-Z]/g,rt=["viewBox"],it=function(t){return-1===rt.indexOf(t)&&(t=t.replace(ot,(function(t){return"-"+t.toLowerCase()}))),t};function at(t,e){Object.keys(e).forEach((function(n){t.setAttribute(it(n),e[n])}))}var st=/^([a-f0-9]{6}|[a-f0-9]{3})$/i;function ct(t){return st.test(t)&&(t="#".concat(t)),t}function ut(t){var e=document.createElementNS("http://www.w3.org/2000/svg","g");return at(e,{stroke:ct(t.color||"#f00"),strokeWidth:1}),t.rectangles.forEach((function(t){var n=document.createElementNS("http://www.w3.org/2000/svg","line");at(n,{x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y}),e.appendChild(n)})),e}n("a15b");function lt(t){for(var e=[],n=document.createElementNS("http://www.w3.org/2000/svg","path"),o=0,r=t.lines.length;o<r;o++){var i=t.lines[o],a=t.lines[o+1];a&&e.push("M".concat(i[0]," ").concat(i[1]," ").concat(a[0]," ").concat(a[1]))}return at(n,{d:"".concat(e.join(" "),"Z"),stroke:ct(t.color||"#000"),strokeWidth:t.width||1,fill:"none"}),n}var dt=25,pt="M499.968 214.336q-113.832 0 -212.877 38.781t-157.356 104.625 -58.311 142.29q0 62.496 39.897 119.133t112.437 97.929l48.546 27.9 -15.066 53.568q-13.392 50.778 -39.06 95.976 84.816 -35.154 153.45 -95.418l23.994 -21.204 31.806 3.348q38.502 4.464 72.54 4.464 113.832 0 212.877 -38.781t157.356 -104.625 58.311 -142.29 -58.311 -142.29 -157.356 -104.625 -212.877 -38.781z";function mt(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","svg"),o=document.createElementNS("http://www.w3.org/2000/svg","rect"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return at(e,{width:dt,height:dt,x:t.x,y:t.y}),at(n,{width:dt,height:dt,x:0,y:.05*dt*-1,viewBox:"0 0 1000 1000"}),at(o,{width:dt,height:dt,stroke:"#000",fill:"#ff0"}),at(r,{d:pt,strokeWidth:50,stroke:"#000",fill:"#fff"}),n.appendChild(r),e.appendChild(o),e.appendChild(n),e}function ht(t){if("highlight"===t.type||"comment-highlight"===t.type){var e=document.createElementNS("http://www.w3.org/2000/svg","g"),n=1,o=document.querySelectorAll("g[top='"+t.top+"']");if(o.length>0){var r=Array.prototype.slice.call(o),i=Math.max.apply(Math,r.map((function(t){return parseInt(t.getAttribute("order"))})));n=i+1}return at(e,{fill:ct(t.color||"#ff0"),fillOpacity:.2,top:t.top,pageNum:t.pageNum,pageHeight:t.pageHeight,order:n}),t.rectangles.forEach((function(t){e.appendChild(gt(t))})),e}var a=gt(t);return at(a,{stroke:ct(t.color||"#f00"),fill:"none"}),a}function gt(t){var e=document.createElementNS("http://www.w3.org/2000/svg","rect");return at(e,{x:t.x,y:t.y,width:t.width,height:t.height}),e}function ft(t){var e=document.createElementNS("http://www.w3.org/2000/svg","text");return at(e,{x:t.x,y:t.y+parseInt(t.size,10),fill:ct(t.color||"#000"),fontSize:t.size}),e.innerHTML=t.content,e}var vt=/firefox/i.test(navigator.userAgent);function yt(t){var e,n;switch(t.rotation%360){case 0:e=n=0;break;case 90:e=0,n=t.width/t.scale*-1;break;case 180:e=t.width/t.scale*-1,n=t.height/t.scale*-1;break;case 270:e=t.height/t.scale*-1,n=0;break}return{x:e,y:n}}function bt(t,e){var n=yt(e);if(t.setAttribute("transform","scale(".concat(e.scale,") rotate(").concat(e.rotation,") translate(").concat(n.x,", ").concat(n.y,")")),!vt&&"svg"===t.nodeName.toLowerCase()){t.setAttribute("x",parseInt(t.getAttribute("x"),10)*e.scale),t.setAttribute("y",parseInt(t.getAttribute("y"),10)*e.scale);var o=parseInt(t.getAttribute("x",10)),r=parseInt(t.getAttribute("y",10)),i=parseInt(t.getAttribute("width"),10),a=parseInt(t.getAttribute("height"),10),s=t.querySelector("path"),c=s.parentNode;switch([t,c,s,t.querySelector("rect")].forEach((function(t){t.setAttribute("width",parseInt(t.getAttribute("width"),10)*e.scale),t.setAttribute("height",parseInt(t.getAttribute("height"),10)*e.scale)})),bt(s,nt()({},e,{scale:1})),e.rotation%360){case 90:t.setAttribute("x",e.width-r-i),t.setAttribute("y",o),c.setAttribute("x",1),c.setAttribute("y",0);break;case 180:t.setAttribute("x",e.width-o-i),t.setAttribute("y",e.height-r-a),c.setAttribute("y",2);break;case 270:t.setAttribute("x",r),t.setAttribute("y",e.height-o-a),c.setAttribute("x",-1),c.setAttribute("y",0);break}}return t}function xt(t,e,n){var o;switch(n||(n=JSON.parse(t.getAttribute("data-pdf-annotate-viewport"))),e.type){case"area":case"comment-highlight":case"highlight":o=ht(e);break;case"strikeout":o=ut(e);break;case"point":o=mt(e);break;case"textbox":o=ft(e);break;case"drawing":o=lt(e);break}if(o){o.setAttribute("data-pdf-annotate-id",e.uuid),o.setAttribute("data-pdf-annotate-type",e.type),o.setAttribute("aria-hidden",!0);var r=At(t,o);null!=r?r.before(bt(o,n)):t.appendChild(bt(o,n))}return o}function wt(t,e){for(var n=!0,o=t.toString(),r=0;r<e.length;r++)if(!o.includes(e[r])){n=!1;break}return n}function At(t,e){var n=e.childNodes;if(n.length>0){var o=t.querySelectorAll("rect[y='"+n[0].getAttribute("y")+"']");if(o.length>0){if(1!=n.length){for(var r=null,i=Array.prototype.slice.call(n).map((function(t){return t.getAttribute("y")})),a=0;a<o.length;a++){var s=o[a],c=s.parentNode.childNodes;if(n.length<=c.length){var u=Array.prototype.slice.call(c).map((function(t){return t.getAttribute("y")}));if(wt(u,i)){r=s.parentNode;break}}}return r}if(1==o[0].parentNode.childNodes.length){var l=parseInt(n[0].getAttribute("x")),d=parseInt(n[0].getAttribute("width")),p=parseInt(o[0].getAttribute("x")),m=parseInt(o[0].getAttribute("width"));if(l<p&&d>m)return null}return o[0].parentNode}}return null}function Ct(t,e){var n=document.createElement("div"),o=document.createTextNode(t);return n.appendChild(o),n.setAttribute("id","pdf-annotate-screenreader-".concat(e)),n.style.position="absolute",n.style.left="-10000px",n.style.top="auto",n.style.width="1px",n.style.height="1px",n.style.overflow="hidden",n}function Et(t,e,n,o,r){var i=2;e=Math.max(e+i*(r?1:-1),0);var a=St(e,n+i,o);if(!a)return!1;e+=i*(r?-1:1);var s=document.querySelector('svg[data-pdf-annotate-page="'.concat(o,'"]')),c=N(s,{left:a.getBoundingClientRect().left}).left-s.getBoundingClientRect().left,u=a.cloneNode(!0),l=u.innerHTML.split(""),d=[];u.style.position="absolute",u.style.top="-10000px",u.style.left="-10000px",document.body.appendChild(u);while(l.length){if(">"===l[l.length-1])while(l.length)if(d.unshift(l.pop()),"<"===d[0])break;u.innerHTML=l.join("");var p=N(s,{width:u.getBoundingClientRect().width}).width;if(c+p<=e)break;d.unshift(l.pop())}return a.innerHTML=l.join("")+t.outerHTML+d.join(""),u.parentNode.removeChild(u),!0}function St(t,e,n){var o=document.querySelector('svg[data-pdf-annotate-page="'.concat(n,'"]')),r=o.getBoundingClientRect();return e=T(o,{y:e}).y+r.top,t=T(o,{x:t}).x+r.left,Object(h["a"])(o.parentNode.querySelectorAll(".textLayer [data-canvas-width]")).filter((function(n){return _(t,e,n.getBoundingClientRect())}))[0]}function It(t,e,n,o){if(Et(t,e,n,o,!0))return!0;var r=document.querySelector('svg[data-pdf-annotate-page="'.concat(o,'"]')),i=r.getBoundingClientRect(),a=Object(h["a"])(r.parentNode.querySelectorAll(".textLayer > div"));n=T(r,{y:n}).y+i.top,e=T(r,{x:e}).x+i.left;for(var s=0,c=a.length;s<c;s++){var u=a[s],l=u.getBoundingClientRect();if(n<=l.top)return u.parentNode.insertBefore(t,u),!0}var d=r.parentNode.querySelector(".textLayer");if(d){var p=d.getBoundingClientRect();if(_(e,n,p))return d.appendChild(t),!0}return!1}function kt(t){if(t){var e=document.querySelector("#pdf-annotate-screenreader-".concat(t.annotation," ol"));if(e){var n=document.createElement("li");n.setAttribute("id","pdf-annotate-screenreader-comment-".concat(t.uuid)),n.appendChild(document.createTextNode("".concat(t.content))),e.appendChild(n)}}}function Lt(t,e,n){var o;return o=Array.isArray(n)?Promise.resolve(n):Qn.getStoreAdapter().getComments(t,e),o.then((function(t){var n=document.getElementById("pdf-annotate-screenreader-".concat(e));if(n){var o=document.createElement("ol");o.setAttribute("id","pdf-annotate-screenreader-comment-list-".concat(e)),o.setAttribute("aria-label","Comments"),n.appendChild(o),t.forEach(kt)}}))}var _t=["highlight","point","area"];function Pt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(t.type){case"highlight":case"strikeout":var n=t.rectangles,o=n[0],r=n[n.length-1];Et(Ct("Begin ".concat(t.type," annotation ").concat(e),t.uuid),o.x,o.y,t.page,!0),Et(Ct("End ".concat(t.type," annotation ").concat(e),"".concat(t.uuid,"-end")),r.x+r.width,r.y,t.page,!1);break;case"textbox":case"point":var i="textbox"===t.type?" (content: ".concat(t.content,")"):"";It(Ct("".concat(t.type," annotation ").concat(e).concat(i),t.uuid),t.x,t.y,t.page);break;case"drawing":case"area":var a="undefined"!==typeof t.x?t.x:t.lines[0][0],s="undefined"!==typeof t.y?t.y:t.lines[0][1];It(Ct("Unlabeled drawing",t.uuid),a,s,t.page);break}_t.includes(t.type)&&Lt(t.documentId,t.uuid)}function Rt(){M("annotation:add",(function(t,e,n){Tt(t,e,n.type)})),M("annotation:edit",(function(t,e,n){Tt(t,n.page,n.type)})),M("annotation:delete",Nt),M("comment:add",Ot),M("comment:delete",Bt)}function Tt(t,e,n){Qn.getStoreAdapter().getAnnotations(t,e).then((function(t){return t.annotations.filter((function(t){return t.type===n}))})).then((function(e){return e.forEach((function(e){Nt(t,e.uuid)})),e})).then(qt)}function Nt(t,e){jt("pdf-annotate-screenreader-".concat(e)),jt("pdf-annotate-screenreader-".concat(e,"-end"))}function Ot(t,e,n){}function Bt(t,e){jt("pdf-annotate-screenreader-comment-".concat(e))}function jt(t){var e=document.getElementById(t);e&&e.parentNode.removeChild(e)}function qt(t){t=Array.isArray(t)?t:[],Object.keys(Mt).forEach((function(e){var n=Mt[e];t.filter((function(t){return t.type===e})).sort(n).forEach((function(t,e){return Pt(t,e+1)}))}))}function Ht(t,e){return t.y<e.y?t.x-e.x:1}function Ft(t,e){return Ht(t.rectangles[0],e.rectangles[0])}function Dt(t,e){var n=t.lines[0],o=e.lines[0];return Ht({x:n[0],y:n[1]},{x:o[0],y:o[1]})}Rt();var Mt={highlight:Ft,strikeout:Ft,drawing:Dt,textbox:Ht,point:Ht,area:Ht};function Ut(t,e,n){return new Promise((function(o,r){return t.innerHTML="",t.setAttribute("data-pdf-annotate-container",!0),t.setAttribute("data-pdf-annotate-viewport",JSON.stringify(e)),t.removeAttribute("data-pdf-annotate-document"),t.removeAttribute("data-pdf-annotate-page"),n?(t.setAttribute("data-pdf-annotate-document",n.documentId),t.setAttribute("data-pdf-annotate-page",n.pageNumber),Array.isArray(n.annotations)&&0!==n.annotations.length?(n.annotations.forEach((function(n){xt(t,n,e)})),void o(t)):o(t)):o(t)}))}var zt,$t,Yt,Xt,Gt,Wt=n("3835"),Vt=!1,Jt=!1,Zt=3;function Kt(t){Qt(),zt=document.createElement("div");var e=document.createElement("a"),n=I(t).parentNode,o=t.getAttribute("data-pdf-annotate-id"),r=R(t),i=r.left-Zt,a=r.top-Zt;zt.setAttribute("id","pdf-annotate-edit-overlay"),zt.setAttribute("data-target-id",o),zt.style.boxSizing="content-box",zt.style.position="absolute",zt.style.top="".concat(a,"px"),zt.style.left="".concat(i,"px"),zt.style.width="".concat(r.width,"px"),zt.style.height="".concat(r.height,"px"),zt.style.border="".concat(Zt,"px solid ").concat(E),zt.style.borderRadius="".concat(Zt,"px"),e.innerHTML="Ã—",e.setAttribute("href","javascript://"),e.style.background="#fff",e.style.borderRadius="20px",e.style.border="1px solid #bbb",e.style.color="#bbb",e.style.fontSize="16px",e.style.padding="2px",e.style.textAlign="center",e.style.textDecoration="none",e.style.position="absolute",e.style.top="-13px",e.style.right="-13px",e.style.width="25px",e.style.height="25px",zt.appendChild(e),n.appendChild(zt),document.addEventListener("click",ee),document.addEventListener("keyup",ne),document.addEventListener("mousedown",oe),e.addEventListener("click",te),e.addEventListener("mouseover",(function(){e.style.color="#35A4DC",e.style.borderColor="#999",e.style.boxShadow="0 1px 1px #ccc"})),e.addEventListener("mouseout",(function(){e.style.color="#bbb",e.style.borderColor="#bbb",e.style.boxShadow=""})),zt.addEventListener("mouseover",(function(){Jt||(e.style.display="")})),zt.addEventListener("mouseout",(function(){e.style.display="none"}))}function Qt(){zt&&(zt.parentNode.removeChild(zt),zt=null),document.removeEventListener("click",ee),document.removeEventListener("keyup",ne),document.removeEventListener("mousedown",oe),document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",ie),j()}function te(){if(zt){var t=zt.getAttribute("data-target-id"),e=document.querySelectorAll('[data-pdf-annotate-id="'.concat(t,'"]')),n=zt.parentNode.querySelector("svg.annotationLayer"),o=q(n),r=o.documentId;Object(h["a"])(e).forEach((function(t){t.parentNode.removeChild(t)})),Qn.getStoreAdapter().deleteAnnotation(r,t),Qt()}}function ee(t){if(k(t.clientX,t.clientY)){var e=document.getElementById("pdf-annotate-edit-overlay");if(e){if(Jt||t.target===e)return;Qt()}}}function ne(t){zt&&46===t.keyCode&&"textarea"!==t.target.nodeName.toLowerCase()&&"input"!==t.target.nodeName.toLowerCase()&&te()}function oe(t){if(t.target===zt){var e=zt.getAttribute("data-target-id"),n=document.querySelector('[data-pdf-annotate-id="'.concat(e,'"]')),o=n.getAttribute("data-pdf-annotate-type");"highlight"!==o&&"strikeout"!==o&&(Jt=!0,$t=t.clientX,Yt=t.clientY,Xt=zt.offsetLeft,Gt=zt.offsetTop,zt.style.background="rgba(255, 255, 255, 0.7)",zt.style.cursor="move",zt.querySelector("a").style.display="none",document.addEventListener("mousemove",re),document.addEventListener("mouseup",ie),B())}}function re(t){zt.getAttribute("data-target-id");var e=zt.parentNode,n=e.getBoundingClientRect(),o=Gt+(t.clientY-Yt),r=Xt+(t.clientX-$t),i=0,a=n.height,s=0,c=n.width;o>i&&o+zt.offsetHeight<a&&(zt.style.top="".concat(o,"px")),r>s&&r+zt.offsetWidth<c&&(zt.style.left="".concat(r,"px"))}function ie(t){var e=zt.getAttribute("data-target-id"),n=document.querySelectorAll('[data-pdf-annotate-id="'.concat(e,'"]')),o=n[0].getAttribute("data-pdf-annotate-type"),r=zt.parentNode.querySelector("svg.annotationLayer"),i=q(r),a=i.documentId;function s(t,e){return c(parseInt(n[0].getAttribute(t),10),parseInt(n[0].getAttribute(e),10))}function c(t,e){return{deltaX:Zt+N(r,{x:zt.offsetLeft}).x-t,deltaY:Zt+N(r,{y:zt.offsetTop}).y-e}}zt.querySelector("a").style.display="",Qn.getStoreAdapter().getAnnotation(a,e).then((function(t){if(["area","highlight","point","textbox"].indexOf(o)>-1){var i=s("x","y"),u=i.deltaX,l=i.deltaY;Object(h["a"])(n).forEach((function(e,n){if(0!==l){var i=parseInt(e.getAttribute("y"),10)+l,a=i;"textbox"===o&&(a+=t.size),"point"===o&&(a=T(r,{viewY:a}).viewY),e.setAttribute("y",a),t.rectangles?t.rectangles[n].y=i:t.y&&(t.y=i)}if(0!==u){var s=parseInt(e.getAttribute("x"),10)+u,c=s;"point"===o&&(c=T(r,{viewX:c}).viewX),e.setAttribute("x",c),t.rectangles?t.rectangles[n].x=s:t.x&&(t.x=s)}}))}else if("drawing"===o){var d=N(r,R(n[0])),p=Object(Wt["a"])(t.lines[0],2),m=p[0],g=p[1],f=c(m,g),v=f.deltaX,y=f.deltaY;y+=g-d.top,v+=m-d.left,t.lines.forEach((function(e,n){var o=Object(Wt["a"])(t.lines[n],2),r=o[0],i=o[1];t.lines[n][0]=r+v,t.lines[n][1]=i+y})),n[0].parentNode.removeChild(n[0]),xt(r,t)}Qn.getStoreAdapter().editAnnotation(a,e,t)})),setTimeout((function(){Jt=!1}),0),zt.style.background="",zt.style.cursor="",document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",ie),j()}function ae(t){Kt(t)}function se(){Vt||(Vt=!0,M("annotation:click",ae))}function ce(){Qt(),Vt&&(Vt=!1,U("annotation:click",ae))}var ue,le,de,pe,me=!1;function he(){de=null,pe=[],document.addEventListener("mousemove",fe),document.addEventListener("mouseup",ge)}function ge(t){var e;if(pe.length>1&&(e=k(t.clientX,t.clientY))){var n=q(e),o=n.documentId,r=n.pageNumber;Qn.getStoreAdapter().addAnnotation(o,r,{type:"drawing",width:ue,color:le,lines:pe}).then((function(t){de&&e.removeChild(de),xt(e,t)}))}document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",ge)}function fe(t){ye(t.clientX,t.clientY)}function ve(t){27===t.keyCode&&(pe=null,de.parentNode.removeChild(de),document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",ge))}function ye(t,e){var n=k(t,e);if(n){var o=n.getBoundingClientRect(),r=N(n,{x:t-o.left,y:e-o.top});pe.push([r.x,r.y]),pe.length<=1||(de&&n.removeChild(de),de=xt(n,{type:"drawing",color:le,width:ue,lines:pe}))}}function be(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"000000";ue=parseInt(t,10),le=e}function xe(){me||(me=!0,document.addEventListener("mousedown",he),document.addEventListener("keyup",ve),B())}function we(){me&&(me=!1,document.removeEventListener("mousedown",he),document.removeEventListener("keyup",ve),j())}var Ae,Ce=!1;function Ee(t){!Ae&&k(t.clientX,t.clientY)&&(Ae=document.createElement("input"),Ae.setAttribute("id","pdf-annotate-point-input"),Ae.setAttribute("placeholder","Enter comment"),Ae.style.border="3px solid ".concat(E),Ae.style.borderRadius="3px",Ae.style.position="absolute",Ae.style.top="".concat(t.clientY,"px"),Ae.style.left="".concat(t.clientX,"px"),Ae.addEventListener("blur",Se),Ae.addEventListener("keyup",Ie),document.body.appendChild(Ae),Ae.focus())}function Se(){ke()}function Ie(t){27===t.keyCode?Le():13===t.keyCode&&ke()}function ke(){if(Ae.value.trim().length>0){var t=parseInt(Ae.style.left,10),e=parseInt(Ae.style.top,10),n=Ae.value.trim(),o=k(t,e);if(!o)return;var r=o.getBoundingClientRect(),i=q(o),a=i.documentId,s=i.pageNumber,c=Object.assign({type:"point"},N(o,{x:t-r.left,y:e-r.top}));Qn.getStoreAdapter().addAnnotation(a,s,c).then((function(t){Qn.getStoreAdapter().addComment(a,t.uuid,n),xt(o,t)}))}Le()}function Le(){Ae.removeEventListener("blur",Se),Ae.removeEventListener("keyup",Ie),document.body.removeChild(Ae),Ae=null}function _e(){Ce||(Ce=!0,document.addEventListener("mouseup",Ee))}function Pe(){Ce&&(Ce=!1,document.removeEventListener("mouseup",Ee))}var Re,Te,Ne,Oe,Be=!1;function je(){try{var t=window.getSelection(),e=t.getRangeAt(0),n=e.getClientRects();if(n.length>0&&n[0].width>0&&n[0].height>0)return n}catch(o){}return null}function qe(t){var e;if("area"===Re&&(e=k(t.clientX,t.clientY))){var n=e.getBoundingClientRect();Ne=t.clientY,Oe=t.clientX,Te=document.createElement("div"),Te.style.position="absolute",Te.style.top="".concat(Ne-n.top,"px"),Te.style.left="".concat(Oe-n.left,"px"),Te.style.border="3px solid ".concat(E),Te.style.borderRadius="3px",e.parentNode.appendChild(Te),document.addEventListener("mousemove",He),B()}}function He(t){var e=Te.parentNode.querySelector("svg.annotationLayer"),n=e.getBoundingClientRect();Oe+(t.clientX-Oe)<n.right&&(Te.style.width="".concat(t.clientX-Oe,"px")),Ne+(t.clientY-Ne)<n.bottom&&(Te.style.height="".concat(t.clientY-Ne,"px"))}function Fe(t){var e;if("area"!==Re&&(e=je())){k(e[0].left,e[0].top);Me(Re,Object(h["a"])(e).map((function(t){return{top:t.top,left:t.left,width:t.width,height:t.height}})))}else if("area"===Re&&Te){var n=Te.parentNode.querySelector("svg.annotationLayer"),o=n.getBoundingClientRect();Me(Re,[{top:parseInt(Te.style.top,10)+o.top,left:parseInt(Te.style.left,10)+o.left,width:parseInt(Te.style.width,10),height:parseInt(Te.style.height,10)}]),Te.parentNode.removeChild(Te),Te=null,document.removeEventListener("mousemove",He),j()}}function De(t){if(27===t.keyCode){var e=window.getSelection();e.removeAllRanges(),Te&&Te.parentNode&&(Te.parentNode.removeChild(Te),Te=null,document.removeEventListener("mousemove",He))}}function Me(t,e,n){var o,r=k(e[0].left,e[0].top);if(r){var i=r.getBoundingClientRect();if(n||("highlight"===t?n="FFFF00":"strikeout"===t&&(n="FF0000")),o={type:t,color:n,rectangles:Object(h["a"])(e).map((function(e){var n=0;return"strikeout"===t&&(n=e.height/2),N(r,{y:e.top+n-i.top,x:e.left-i.left,width:e.width,height:e.height})})).filter((function(t){return t.width>0&&t.height>0&&t.x>-1&&t.y>-1}))},0!==o.rectangles.length){if("area"===t){var a=o.rectangles[0];delete o.rectangles,o.x=a.x,o.y=a.y,o.width=a.width,o.height=a.height}var s=q(r),c=s.documentId,u=s.pageNumber;Qn.getStoreAdapter().addAnnotation(c,u,o).then((function(t){xt(r,t)}))}}}function Ue(t){Re=t,Be||(Be=!0,document.addEventListener("mouseup",Fe),document.addEventListener("mousedown",qe),document.addEventListener("keyup",De))}function ze(){Be&&(Be=!1,document.removeEventListener("mouseup",Fe),document.removeEventListener("mousedown",qe),document.removeEventListener("keyup",De))}var $e,Ye,Xe,Ge=!1;function We(t){!$e&&k(t.clientX,t.clientY)&&($e=document.createElement("input"),$e.setAttribute("id","pdf-annotate-text-input"),$e.setAttribute("placeholder","Enter text"),$e.style.border="3px solid ".concat(E),$e.style.borderRadius="3px",$e.style.position="absolute",$e.style.top="".concat(t.clientY,"px"),$e.style.left="".concat(t.clientX,"px"),$e.style.fontSize="".concat(Ye,"px"),$e.addEventListener("blur",Ve),$e.addEventListener("keyup",Je),document.body.appendChild($e),$e.focus())}function Ve(){Ze()}function Je(t){27===t.keyCode?Ke():13===t.keyCode&&Ze()}function Ze(){if($e.value.trim().length>0){var t=parseInt($e.style.left,10),e=parseInt($e.style.top,10),n=k(t,e);if(!n)return;var o=q(n),r=o.documentId,i=o.pageNumber,a=n.getBoundingClientRect(),s=Object.assign({type:"textbox",size:Ye,color:Xe,content:$e.value.trim()},N(n,{x:t-a.left,y:e-a.top,width:$e.offsetWidth,height:$e.offsetHeight}));Qn.getStoreAdapter().addAnnotation(r,i,s).then((function(t){xt(n,t)}))}Ke()}function Ke(){$e&&($e.removeEventListener("blur",Ve),$e.removeEventListener("keyup",Je),document.body.removeChild($e),$e=null)}function Qe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"000000";Ye=parseInt(t,10),Xe=e}function tn(){Ge||(Ge=!0,document.addEventListener("mouseup",We))}function en(){Ge&&(Ge=!1,document.removeEventListener("mouseup",We))}n("3ca3"),n("ddb0");var nn=n("9f85"),on='\n  <div style="visibility: hidden;" class="page" data-loaded="false">\n    <div class="canvasWrapper">\n      <canvas></canvas>\n\t\t</div>\n\t\t<svg class="annotationLayer"></svg>\n\t\t<div class="textLayer"></div>\n  </div>\n';function rn(t){var e=document.createElement("div");e.innerHTML=on;var n=e.children[0],o=n.querySelector("canvas");return n.setAttribute("id","pageContainer".concat(t)),n.setAttribute("data-page-number",t),o.mozOpaque=!0,o.setAttribute("id","page".concat(t)),n}function an(t,e){var n,o,r,i;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.documentId,o=e.pdfDocument,r=e.scale,i=e.rotate,a.abrupt("return",Promise.all([o.getPage(t),Qn.getAnnotations(n,t)]).then((function(e){var n,o,a,s,c,u,l,d,p,m,h,g,f;return regeneratorRuntime.async((function(v){while(1)switch(v.prev=v.next){case 0:return n=Object(Wt["a"])(e,2),o=n[0],a=n[1],s=document.getElementById("pageContainer".concat(t)),c=s.querySelector(".annotationLayer"),u=s.querySelector(".canvasWrapper canvas"),l=u.getContext("2d",{alpha:!1}),d=o.getViewport({scale:r,rotate:i}),p=sn(t,d,l),v.next=9,regeneratorRuntime.awrap(o.render({canvasContext:l,viewport:d,transform:p}).promise);case 9:return v.next=11,regeneratorRuntime.awrap(Qn.render(c,d,a).promise);case 11:return v.next=13,regeneratorRuntime.awrap(o.getTextContent({normalizeWhitespace:!0}));case 13:return m=v.sent,h=s.querySelector(".textLayer"),g=new nn["DefaultTextLayerFactory"],f=g.createTextLayerBuilder(h,t-1,d),f.setTextContent(m),f.render(),setTimeout((function(){try{qt(a.annotations)}catch(t){console.log(t)}})),v.abrupt("return",[o,a]);case 21:case"end":return v.stop()}}))})));case 2:case"end":return a.stop()}}))}function sn(t,e,n){var o=document.getElementById("pageContainer".concat(t)),r=o.querySelector(".canvasWrapper canvas"),i=o.querySelector(".annotationLayer"),a=o.querySelector(".canvasWrapper"),s=o.querySelector(".textLayer"),c=un(n),u=c.scaled?[c.sx,0,0,c.sy,0,0]:null,l=cn(c.sx),d=cn(c.sy);return o.style.visibility="",r.width=ln(e.width*c.sx,l[0]),r.height=ln(e.height*c.sy,d[0]),r.style.width=ln(e.width,l[1])+"px",r.style.height=ln(e.height,l[1])+"px",i.setAttribute("width",e.width),i.setAttribute("height",e.height),i.style.width="".concat(e.width,"px"),i.style.height="".concat(e.height,"px"),o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),s.style.width="".concat(e.width,"px"),s.style.height="".concat(e.height,"px"),u}function cn(t){if(Math.floor(t)===t)return[t,1];var e=1/t,n=8;if(e>n)return[1,n];if(Math.floor(e)===e)return[1,e];var o=t>1?e:t,r=0,i=1,a=1,s=1;while(1){var c=r+a,u=i+s;if(u>n)break;o<=c/u?(a=c,s=u):(r=c,i=u)}return o-r/i<a/s-o?o===t?[r,i]:[i,r]:o===t?[a,s]:[s,a]}function un(t){var e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,o=e/n;return{sx:o,sy:o,scaled:1!==o}}function ln(t,e){var n=t%e;return 0===n?t:Math.round(t-n+e)}var dn,pn,mn,hn,gn,fn,vn,yn,bn,xn,wn,An=!1;function Cn(){try{var t=window.getSelection(),e=t.getRangeAt(0),n=e.getClientRects();if(n.length>0&&n[0].width>0&&n[0].height>0)return n}catch(o){}return null}function En(t){var e;if("select"!==dn&&(e=k(t.clientX,t.clientY))){var n=e.getBoundingClientRect();mn=t.clientY,hn=t.clientX,pn=document.createElement("div"),pn.style.position="absolute",pn.style.top="".concat(mn-n.top,"px"),pn.style.left="".concat(hn-n.left,"px"),pn.style.border="3px solid ".concat(E),pn.style.borderRadius="3px",e.parentNode.appendChild(pn),document.addEventListener("mousemove",In),B()}else{if(!t.target.classList.contains("textToolBtn")&&!t.target.classList.contains("svg-inline--fa")&&!t.target.parentElement.classList.contains("svg-inline--fa")){var o=document.getElementById("textTool");o.style.visibility="hidden"}var r=document.getElementById("add-new-comment");if(r&&"none"!=r.style.display){var i=Sn(t.target,"add-new-comment"),a=document.getElementById("comment-text-area").value;i||0!=a.replace(/\s/g,"").length||Un()}if(!t.target.classList.contains("comment-highlight-selected")){var s=Sn(t.target,"comment-card-selected");s||Gn()}}}function Sn(t,e){for(var n=0;n<=5;n++){if(t.classList.contains(e))return!0;t=t.parentNode}return!1}function In(t){var e=pn.parentNode.querySelector("svg.annotationLayer"),n=e.getBoundingClientRect();hn+(t.clientX-hn)<n.right&&(pn.style.width="".concat(t.clientX-hn,"px")),mn+(t.clientY-mn)<n.bottom&&(pn.style.height="".concat(t.clientY-mn,"px"))}function kn(t){var e;if(t.target.parentElement.classList.contains("textLayer")&&("select"===dn&&(e=Cn()))){var n=window.getSelection().toString().trim();if(n){var o=document.getElementById("textTool"),r=e[e.length-1].left+e[e.length-1].width/2,i=e[e.length-1].top+20;o.style="position: absolute; top: "+i+"px; left: "+r+"px;",gn=e,fn=k(e[0].left,e[0].top),vn=t.target,bn=n}}}function Ln(t){if(27===t.keyCode){var e=window.getSelection();e.removeAllRanges(),pn&&pn.parentNode&&(pn.parentNode.removeChild(pn),pn=null,document.removeEventListener("mousemove",In))}}function _n(t){var e,n,o,r,i,a,s,c;return regeneratorRuntime.async((function(u){while(1)switch(u.prev=u.next){case 0:if(e=fn,n=gn,e){u.next=4;break}return u.abrupt("return");case 4:if(r=e.getBoundingClientRect(),i="FFFF00","strikeout"==t&&(i="FF0000"),o={type:t,color:i,rectangles:Object(h["a"])(n).map((function(n){var o=0;return"strikeout"==t&&(o=n.height/2),N(e,{y:n.top+o-r.top,x:n.left-r.left,width:n.width,height:n.height})})).filter((function(t){return t.width>0&&t.height>0&&t.x>-1&&t.y>-1}))},0!==o.rectangles.length){u.next=10;break}return u.abrupt("return");case 10:return o.rectangles.length>2&&(o.rectangles=Pn(o.rectangles)),a=q(e),s=a.documentId,c=a.pageNumber,o.top=parseInt(vn.style.top.substring(0,vn.style.top.length-2)),o.pageNum=c,o.pageHeight=e.getAttribute("height"),yn=o,u.next=18,regeneratorRuntime.awrap(Qn.getStoreAdapter().addAnnotation(s,c,o).then((function(t){xt(e,t),Rn()})));case 18:case"end":return u.stop()}}))}function Pn(t){var e=Math.min.apply(Math,Object(h["a"])(t.map((function(t){return t.height}))));return t.filter((function(t){return t.height!=e}))}function Rn(){var t=document.getElementById("textTool");t.style.visibility="hidden"}function Tn(){var t=document.querySelectorAll(".comment-card"),e=document.querySelectorAll("g[data-pdf-annotate-type='comment-highlight']"),n=Array.prototype.slice.call(e);if(n.sort(Hn),wn=n.findIndex((function(t){return t.dataset.pdfAnnotateId==yn.uuid})),!Fn(t)){var o=fn,r=parseInt(vn.style.top.substring(0,vn.style.top.length-2)),i=o.getAttribute("height"),a=o.getAttribute("data-pdf-annotate-page"),s=0;a>1&&(s+=(a-1)*i);var c=s+r-35,u=c+105;if(0==wn)qn(t,0,u);else if(wn==n.length-1)On(t,t.length-1,c);else{var l=parseInt(t[wn-1].style.top.substring(0,t[wn-1].style.top.length-2)),d=l+t[wn-1].offsetHeight;if(d>c-10)On(t,wn-1,c);else{var p=t[wn-1].getAttribute("highlight-id"),m=Dn(p),h=parseInt(m.getAttribute("top"))-35;m.getAttribute("page-num")>1&&(h+=(m.getAttribute("page-num")-1)*m.getAttribute("page-height")),l<h&&jn(t,wn-1,c)}var g=parseInt(t[wn].style.top.substring(0,t[wn].style.top.length-2));if(g<u+10)qn(t,wn,u);else{var f=t[wn].getAttribute("highlight-id"),v=Dn(f),y=parseInt(v.getAttribute("top"))-35;v.getAttribute("page-num")>1&&(y+=(v.getAttribute("page-num")-1)*v.getAttribute("page-height")),g>y&&Bn(t,wn,u)}}}}function Nn(){var t=document.querySelector(".comment-card[highlight-id='"+yn.uuid+"']"),e=document.querySelectorAll(".comment-card"),n=parseInt(t.getAttribute("top-position"))+t.offsetHeight;wn<e.length-1&&Bn(e,wn+1,n),t.addEventListener("click",Xn)}function On(t,e,n){var o=parseInt(t[e].style.top.substring(0,t[e].style.top.length-2)),r=o+t[e].offsetHeight;if(t[e].style.top=o-(r-n)-10+"px",t[e].setAttribute("top-position",o-(r-n)-10),e>0)for(var i=e-1;i>=0;i--){var a=parseInt(t[i+1].style.top.substring(0,t[i+1].style.top.length-2)),s=parseInt(t[i].style.top.substring(0,t[i].style.top.length-2)),c=s+t[i].offsetHeight;if(!(c>a-10))break;t[i].style.top=s-(c-a)-10+"px",t[i].setAttribute("top-position",s-(c-a)-10)}}function Bn(t,e,n){var o=t[e].getAttribute("highlight-id"),r=Dn(o),i=parseInt(r.getAttribute("top"))-35;r.getAttribute("page-num")>1&&(i+=(r.getAttribute("page-num")-1)*r.getAttribute("page-height"));var a=i>=n+10?i:n+10;if(t[e].style.top=a+"px",t[e].setAttribute("top-position",a),t.length>e+1)for(var s=e+1;s<t.length;s++){var c=parseInt(t[s-1].style.top.substring(0,t[s-1].style.top.length-2)),u=c+t[s-1].offsetHeight,l=parseInt(t[s].style.top.substring(0,t[s].style.top.length-2));if(!(l>u+10))break;var d=t[s].getAttribute("highlight-id"),p=Dn(d),m=parseInt(p.getAttribute("top"))-35;if(p.getAttribute("page-num")>1&&(m+=(p.getAttribute("page-num")-1)*p.getAttribute("page-height")),l>m){var h=m>=u+10?m:u+10;t[s].style.top=h+"px",t[s].setAttribute("top-position",h)}}}function jn(t,e,n){var o=parseInt(t[e].style.top.substring(0,t[e].style.top.length-2)),r=o+t[e].offsetHeight,i=t[e].getAttribute("highlight-id"),a=Dn(i),s=parseInt(a.getAttribute("top"))-35;if(a.getAttribute("page-num")>1&&(s+=(a.getAttribute("page-num")-1)*a.getAttribute("page-height")),o<s){var c=s<=o+(n-r)-10?s:o+(n-r)-10;if(t[e].style.top=c+"px",t[e].setAttribute("top-position",c),e>0)for(var u=e-1;u>=0;u--){var l=parseInt(t[u+1].style.top.substring(0,t[u+1].style.top.length-2)),d=parseInt(t[u].style.top.substring(0,t[u].style.top.length-2)),p=d+t[u].offsetHeight;if(!(p<l-10))break;var m=t[u].getAttribute("highlight-id"),h=Dn(m),g=parseInt(h.getAttribute("top"))-35;if(h.getAttribute("page-num")>1&&(g+=(h.getAttribute("page-num")-1)*h.getAttribute("page-height")),d<g){var f=g<=d+(l-p)-10?g:d+(l-p)-10;t[u].style.top=f+"px",t[u].setAttribute("top-position",f)}}}}function qn(t,e,n){if(t[e].style.top=n+10+"px",t[e].setAttribute("top-position",n+10),t.length>e+1)for(var o=e+1;o<t.length;o++){var r=parseInt(t[o-1].style.top.substring(0,t[o-1].style.top.length-2)),i=r+t[o-1].offsetHeight,a=parseInt(t[o].style.top.substring(0,t[o].style.top.length-2));if(!(a<i+10))break;t[o].style.top=a+(i-a)+10+"px",t[o].setAttribute("top-position",a+(i-a)+10)}}function Hn(t,e){var n=parseInt(t.getAttribute("top"));t.getAttribute("page-num")>1&&(n+=(t.getAttribute("page-num")-1)*t.getAttribute("page-height"));var o=parseInt(e.getAttribute("top"));if(e.getAttribute("page-num")>1&&(o+=(e.getAttribute("page-num")-1)*e.getAttribute("page-height")),n>o)return 1;if(o>n)return-1;if(o==n){var r=parseInt(t.getAttribute("order")),i=parseInt(e.getAttribute("order"));if(r>i)return 1;if(i>r)return-1}return 0}function Fn(t){if(t.length>0){var e=fn,n=parseInt(vn.style.top.substring(0,vn.style.top.length-2)),o=e.getAttribute("height"),r=e.getAttribute("data-pdf-annotate-page"),i=0;r>1&&(i+=(r-1)*o);var a=i+n-35,s=a+105,c=parseInt(t[0].getAttribute("top-position")),u=parseInt(t[t.length-1].getAttribute("top-position"))+parseInt(t[t.length-1].offsetHeight);if(s<c||a>u)return!0;if(t.length>1)for(var l=0;l<t.length-1;l++){var d=parseInt(t[l].getAttribute("top-position")),p=d+t[l].offsetHeight,m=parseInt(t[l+1].getAttribute("top-position"));if(a>p&&s<m)return!0}return!1}return!0}function Dn(t){return document.querySelector("g[data-pdf-annotate-id='"+t+"']")}function Mn(){var t=document.getElementById("add-new-comment");t.style.visibility="visible";var e=fn,n=parseInt(vn.style.top.substring(0,vn.style.top.length-2)),o=e.getAttribute("height"),r=e.getAttribute("data-pdf-annotate-page"),i=0;r>1&&(i+=(r-1)*o);var a=i+n-35;t.style="position: absolute; right: 5px; top: "+a+"px;",Rn();var s=document.getElementById("comment-text-area");s.focus(),xn=parseInt(s.style.height.substring(0,s.style.height.length-2)),s.addEventListener("keydown",(function(t){var e=document.querySelectorAll(".comment-card");e.length>0&&setTimeout((function(){var t=parseInt(s.style.height.substring(0,s.style.height.length-2)),n=document.getElementById("add-new-comment"),o=parseInt(n.style.top.substring(0,n.style.top.length-2)),r=o+n.offsetHeight;xn<t?wn<=e.length-1&&qn(e,wn,r):xn>t&&wn<e.length&&Bn(e,wn,r),xn=t}),100)}))}function Un(){var t=q(fn),e=t.documentId,n=(t.pageNumber,document.getElementById("add-new-comment")),o=parseInt(n.style.top.substring(0,n.style.top.length-2)),r=o+n.offsetHeight;n.style.display="none";var i=document.querySelectorAll(".comment-card");if(i.length>0){if(wn<=i.length-1&&(Bn(i,wn,o),wn>0)){var a=parseInt(i[wn].style.top.substring(0,i[wn].style.top.length-2));jn(i,wn-1,a)}wn==i.length&&jn(i,wn-1,r)}Qn.getStoreAdapter().deleteAnnotation(e,yn.uuid).then((function(t){t&&(document.querySelector("g[data-pdf-annotate-id='"+yn.uuid+"']").remove(),yn=null)}))}function zn(t,e){var n,o,r;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return n=document.getElementById("add-new-comment"),o=parseInt(n.style.top.substring(0,n.style.top.length-2)),r=yn,i.next=5,regeneratorRuntime.awrap(Qn.getStoreAdapter().addComment(e,r,t,bn,o));case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}}))}function $n(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(_n("comment-highlight"));case 2:Tn(),Mn(),event.stopPropagation();case 5:case"end":return t.stop()}}))}function Yn(t){if(dn=t,!An){An=!0,document.addEventListener("mouseup",kn),document.addEventListener("mousedown",En),document.addEventListener("keyup",Ln),M("annotation:click",Jn);var e=document.querySelectorAll(".comment-card");e.forEach((function(t){t.addEventListener("click",Xn)})),window.addEventListener("beforeunload",Wn)}}function Xn(){var t=this.getAttribute("highlight-id"),e=document.querySelector("g[data-pdf-annotate-id='"+t+"']");Jn(e)}function Gn(){var t=document.getElementsByClassName("comment-highlight-selected");t.length>0&&t[0].classList.remove("comment-highlight-selected");var e=document.getElementsByClassName("comment-card-selected");e.length>0&&e[0].classList.remove("comment-card-selected")}function Wn(t){var e,n,o;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return e=document.getElementById("viewer").getAttribute("document-id"),n=document.querySelectorAll("g[data-pdf-annotate-type='comment-highlight']"),Jn(n[0]),t.next=5,regeneratorRuntime.awrap(Vn(e));case 5:return o=t.sent,console.log(o),t.next=9,regeneratorRuntime.awrap(Qn.getStoreAdapter().updateComments(e,o));case 9:case"end":return t.stop()}}))}function Vn(t){var e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(Qn.getStoreAdapter().getComments(t));case 2:return e=n.sent,e.forEach((function(t){var e=document.querySelector(".comment-card[highlight-id='"+t.uuid+"']");t.topPosition=parseInt(e.getAttribute("top-position"))})),n.abrupt("return",e);case 5:case"end":return n.stop()}}))}function Jn(t){var e=window.getSelection().toString().trim();if(!e){var n=t.getAttribute("data-pdf-annotate-type");if("comment-highlight"==n){var o=document.getElementsByClassName("comment-highlight-selected");o.length>0&&o[0].classList.remove("comment-highlight-selected"),t.classList.add("comment-highlight-selected");var r=document.querySelectorAll(".comment-card"),i=document.querySelectorAll("g[data-pdf-annotate-type='comment-highlight']"),a=Array.prototype.slice.call(i);a.sort(Hn),wn=a.findIndex((function(e){return e.dataset.pdfAnnotateId==t.getAttribute("data-pdf-annotate-id")}));var s=parseInt(t.getAttribute("top"))-35,c=parseInt(t.getAttribute("page-height")),u=parseInt(t.getAttribute("page-num"));u>1&&(s+=(u-1)*c);var l=parseInt(r[wn].style.top.substring(0,r[wn].style.top.length-2)),d=document.getElementsByClassName("comment-card-selected");if(d.length>0&&d[0].classList.remove("comment-card-selected"),r[wn].classList.add("comment-card-selected"),l!=s){r[wn].style.top=s+"px",r[wn].setAttribute("top-position",s);var p=document.getElementsByClassName("comment-card-selected");p.length>0&&p[0].classList.remove("comment-card-selected"),r[wn].classList.add("comment-card-selected");var m=s+r[wn].offsetHeight;l>s?(wn>0&&On(r,wn-1,s),wn<r.length-1&&Bn(r,wn+1,m)):l<s&&(wn>0&&jn(r,wn-1,s),wn<r.length-1&&qn(r,wn+1,m))}}}}function Zn(){An&&(An=!1,document.removeEventListener("mouseup",kn),document.removeEventListener("mousedown",En),document.removeEventListener("keyup",Ln))}var Kn={addEventListener:M,removeEventListener:U,fireEvent:D,disableEdit:ce,enableEdit:se,disablePen:we,enablePen:xe,setPen:be,disablePoint:Pe,enablePoint:_e,disableRect:ze,enableRect:Ue,disableText:en,enableText:tn,setText:Qe,createPage:rn,renderPage:an,disableSelect:Zn,enableSelect:Yn,highlightText:_n,strikethroughText:void 0,commentText:$n,addCommentText:zn,cancelCommentText:Un,updatePositionsAfterCommentAdded:Nn},Qn={StoreAdapter:z,LocalStoreAdapter:Z,__storeAdapter:new z,getStoreAdapter:function(){return this.__storeAdapter},setStoreAdapter:function(t){this.__storeAdapter=t},UI:Kn,render:Ut,getAnnotations:function(t,e){return this.getStoreAdapter().getAnnotations(t,e)}},to=(n("b0c0"),[{hex:"#000000",name:"Black"},{hex:"#EF4437",name:"Red"},{hex:"#E71F63",name:"Pink"},{hex:"#8F3E97",name:"Purple"},{hex:"#65499D",name:"Deep Purple"},{hex:"#4554A4",name:"Indigo"},{hex:"#2083C5",name:"Blue"},{hex:"#35A4DC",name:"Light Blue"},{hex:"#09BCD3",name:"Cyan"},{hex:"#009688",name:"Teal"},{hex:"#43A047",name:"Green"},{hex:"#8BC34A",name:"Light Green"},{hex:"#FDC010",name:"Yellow"},{hex:"#F8971C",name:"Orange"},{hex:"#F0592B",name:"Deep Orange"},{hex:"#F06291",name:"Light Pink"}]);function eo(t,e,n){function o(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t,d.setAttribute("data-color",t),d.style.background=t,e&&"function"===typeof n&&n(t),i()}function r(){l?i():a()}function i(){document.removeEventListener("keyup",c),u&&u.parentNode&&u.parentNode.removeChild(u),l=!1,d.focus()}function a(){u||(u=document.createElement("div"),u.style.background="#fff",u.style.border="1px solid #ccc",u.style.padding="2px",u.style.position="absolute",u.style.width="122px",t.style.position="relative",to.map(s).forEach((function(t){t.style.margin="2px",t.onclick=function(){o(t.getAttribute("data-color"))},u.appendChild(t)}))),document.addEventListener("keyup",c),t.appendChild(u),l=!0}function s(t){var e=document.createElement("a");return e.className="color",e.setAttribute("href","javascript://"),e.setAttribute("title",t.name),e.setAttribute("data-color",t.hex),e.style.background=t.hex,e}function c(t){27===t.keyCode&&i()}var u,l=!1,d=s({hex:e});d.onclick=r,t.appendChild(d),o(e,!1)}var no=Qn.UI;Qn.setStoreAdapter(new Qn.LocalStoreAdapter);var oo={name:"Document",data:function(){return{viewer:null,PAGE_HEIGHT:1,NUM_PAGES:0,documentId:"./static/demand.pdf",RENDER_OPTIONS:{documentId:"./static/demand.pdf",pdfDocument:null,scale:parseFloat(localStorage.getItem("".concat(this.documentId,"/scale")),10)||1.2,rotate:parseInt(localStorage.getItem("".concat(this.documentId,"/rotate")),10)||0},newComment:"",comments:[],viewerWidth:900,type:null,rects:null,svg:null,target:null,annotation:null,selectedText:null,inputHeight:null,order:null,hasSpace:!0,editClicked:!1}},mounted:function(){var t={},e=this;document.getElementById("content-wrapper").addEventListener("scroll",(function(n){var o=document.getElementById("textTool");o.style.visibility="hidden";var r=Math.round(n.target.scrollTop/e.PAGE_HEIGHT)+1,i=document.querySelector('.page[data-page-number="'.concat(r,'"][data-loaded="false"]'));i&&(t[r]||(t[r]=!0,setTimeout((function(){no.renderPage(r,e.RENDER_OPTIONS)}))))})),this.render(),this.TextStuff(),this.ToolbarButtons(),this.ClearToolbarButton()},methods:{render:function(){var t,e,n,o,r,i,a,s,c,u;return regeneratorRuntime.async((function(l){while(1)switch(l.prev=l.next){case 0:return t=this,l.next=3,regeneratorRuntime.awrap(f.a.getDocument(this.RENDER_OPTIONS.documentId).promise);case 3:for(e=l.sent,t.RENDER_OPTIONS.pdfDocument=e,t.viewer=document.getElementById("viewer"),t.viewer.innerHTML="",t.NUM_PAGES=e.numPages,n=0;n<t.NUM_PAGES;n++)o=no.createPage(n+1),t.viewer.appendChild(o);return l.next=11,regeneratorRuntime.awrap(no.renderPage(1,t.RENDER_OPTIONS));case 11:return r=l.sent,i={scale:t.RENDER_OPTIONS.scale,rotation:t.RENDER_OPTIONS.rotate},a=r[0].getViewport(i),t.PAGE_HEIGHT=a.height,s=document.getElementById("pageContainer1").offsetWidth,this.viewerWidth=s+250,this.commentleftPos=s+15,c=document.getElementById("viewer"),u=document.getElementById("comment-wrapper"),u.style.left=s+15+"px",c.appendChild(u),l.next=24,regeneratorRuntime.awrap(Qn.getStoreAdapter().getComments(this.documentId));case 24:return this.comments=l.sent,l.next=27,regeneratorRuntime.awrap(this.comments.forEach((function(t){t.isSelected=!1})));case 27:return l.next=29,regeneratorRuntime.awrap(this.comments.sort((function(t,e){return t.topPosition>=e.topPosition?1:-1})));case 29:this.TextSelection();case 30:case"end":return l.stop()}}),null,this)},TextStuff:function(){var t,e,n,o,r,i;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:i=function(t){r(t.target.value,n)},r=function(o,r){var i=!1;if(e!==o&&(i=!0,e=o,localStorage.setItem("".concat(t.RENDER_OPTIONS.documentId,"/text/size"),e),document.querySelector(".toolbar .text-size").value=e),n!==r){i=!0,n=r,localStorage.setItem("".concat(t.RENDER_OPTIONS.documentId,"/text/color"),n);var a=document.querySelector(".toolbar .text-color.color-selected");a&&(a.classList.remove("color-selected"),a.removeAttribute("aria-selected")),a=document.querySelector('.toolbar .text-color[data-color="'.concat(r,'"]')),a&&(a.classList.add("color-selected"),a.setAttribute("aria-selected",!0))}i&&no.setText(e,n)},o=function(){var o=document.querySelector(".toolbar .text-size");[8,9,10,11,12,14,18,24,30,36,48,60,72,96].forEach((function(t){o.appendChild(new Option(t,t))})),r(localStorage.getItem("".concat(t.RENDER_OPTIONS.documentId,"/text/size"))||10,localStorage.getItem("".concat(t.RENDER_OPTIONS.documentId,"/text/color"))||"#000000"),eo(document.querySelector(".text-color"),n,(function(t){r(e,t)}))},t=this,document.querySelector(".toolbar .text-size").addEventListener("change",i),o();case 6:case"end":return a.stop()}}),null,this)},ToolbarButtons:function(){var t,e,n,o;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:o=function(t){"BUTTON"===t.target.nodeName&&n(t.target.getAttribute("data-tooltype"),t.target)},n=function(n,o){var r=document.querySelector(".toolbar button.active");if(r)switch(r.classList.remove("active"),e){case"text":no.disableText();break;case"point":no.disablePoint();break;case"area":case"highlight":case"strikeout":no.disableRect();break}switch(o&&o.classList.add("active"),e!==n&&localStorage.setItem("".concat(t.RENDER_OPTIONS.documentId,"/tooltype"),n),e=n,n){case"text":no.enableText();break;case"point":no.enablePoint();break;case"area":case"highlight":case"strikeout":no.enableRect(n);break}},t=this,e=localStorage.getItem("".concat(t.RENDER_OPTIONS.documentId,"/tooltype"))||"cursor",e&&n(e,document.querySelector(".toolbar button[data-tooltype=".concat(e,"]"))),document.querySelector(".toolbar").addEventListener("click",o);case 6:case"end":return r.stop()}}),null,this)},ClearToolbarButton:function(){var t=this;function e(){if(confirm("Are you sure you want to clear annotations?")){for(var e=0;e<t.NUM_PAGES;e++)document.querySelector("div#pageContainer".concat(e+1," svg.annotationLayer")).innerHTML="";localStorage.removeItem("".concat(t.RENDER_OPTIONS.documentId,"/annotations"))}}document.querySelector("a.clear").addEventListener("click",e)},TextSelection:function(){var t=this;document.addEventListener("mouseup",n),document.addEventListener("mousedown",o),window.addEventListener("beforeunload",a),M("annotation:click",r);var e=document.querySelectorAll(".comment-card");function n(e){if(e.target.classList.contains("textLayer")||e.target.parentElement.classList.contains("textLayer")){var n=t.getSelectionRects();if(n){var o=window.getSelection().toString().trim();if(o)if(""==e.target.style.top)window.getSelection().removeAllRanges(),t.hideTextToolBar();else{var r=document.getElementById("textTool"),i=n[n.length-1].left+n[n.length-1].width/2,a=n[n.length-1].top+20;r.style="position: absolute; top: "+a+"px; left: "+i+"px;",t.rects=n,t.svg=k(n[0].left,n[0].top),t.target=e.target,t.selectedText=o}}}}function o(e){var n=k(e.clientX,e.clientY);if(n){if(!e.target.classList.contains("textToolBtn")&&!e.target.classList.contains("svg-inline--fa")&&!e.target.parentElement.classList.contains("svg-inline--fa")){var o=document.getElementById("textTool");o.style.visibility="hidden"}var r=document.getElementById("add-new-comment");if(r&&"none"!=r.style.display){var i=t.hasAParentWithClass(e.target,"add-new-comment"),a=document.getElementById("comment-text-area").value;i||0!=a.replace(/\s/g,"").length||t.cancelCommentText()}if(!e.target.classList.contains("comment-highlight-selected")){var s=t.hasAParentWithClass(e.target,"comment-card-selected");s||t.unselectHighlightComment()}}else;}function r(e){t.handleCommentAnnotationClick(e)}function i(){t.handleCommentCardClick(this)}function a(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(t.handleCommentPositionsRestore());case 2:case"end":return e.stop()}}))}e.forEach((function(t){t.addEventListener("click",i)}))},handleCommentAnnotationClick:function(t){var e=window.getSelection().toString().trim();if(!e){var n=t.getAttribute("data-pdf-annotate-type");if("comment-highlight"==n){var o=document.getElementsByClassName("comment-highlight-selected");o.length>0&&o[0].classList.remove("comment-highlight-selected"),t.classList.add("comment-highlight-selected");var r=document.querySelectorAll(".comment-card"),i=document.querySelectorAll("g[data-pdf-annotate-type='comment-highlight']"),a=Array.prototype.slice.call(i);a.sort(this.compareTopAttributes),this.order=a.findIndex((function(e){return e.dataset.pdfAnnotateId==t.getAttribute("data-pdf-annotate-id")}));var s=parseInt(t.getAttribute("top"))-35,c=parseInt(t.getAttribute("page-height")),u=parseInt(t.getAttribute("page-num"));u>1&&(s+=(u-1)*c);var l=this.comments[this.order].topPosition,d=document.getElementsByClassName("comment-card-selected");if(d.length>0&&d[0].classList.remove("comment-card-selected"),r[this.order].classList.add("comment-card-selected"),l!=s){this.comments[this.order].topPosition=s;var p=document.getElementsByClassName("comment-card-selected");p.length>0&&p[0].classList.remove("comment-card-selected"),r[this.order].classList.add("comment-card-selected");var m=s+r[this.order].offsetHeight;l>s?(this.order>0&&this.moveUpFromTopPos(r,this.order-1,s),this.order<r.length-1&&this.moveUpToEndPos(r,this.order+1,m)):l<s&&(this.order>0&&this.moveDownToTopPos(r,this.order-1,s),this.order<r.length-1&&this.moveDownFromEndPos(r,this.order+1,m))}}}},handleCommentCardClick:function(t){var e=t.getAttribute("highlight-id"),n=document.querySelector("g[data-pdf-annotate-id='"+e+"']");this.handleCommentAnnotationClick(n)},handleCommentPositionsRestore:function(){var t,e,n,o;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return t=document.getElementById("viewer").getAttribute("document-id"),e=document.querySelectorAll("g[data-pdf-annotate-type='comment-highlight']"),n=Array.prototype.slice.call(e),n.sort(this.compareTopAttributes),this.handleCommentAnnotationClick(n[0]),r.next=7,regeneratorRuntime.awrap(this.updateCommentAnnotations(t));case 7:return o=r.sent,r.next=10,regeneratorRuntime.awrap(Qn.getStoreAdapter().updateComments(t,o));case 10:case"end":return r.stop()}}),null,this)},updateCommentAnnotations:function(t){var e;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(Qn.getStoreAdapter().getComments(t));case 2:return e=n.sent,e.forEach((function(t){var e=document.querySelector(".comment-card[highlight-id='"+t.uuid+"']");t.topPosition=parseInt(e.getAttribute("top-position"))})),n.abrupt("return",e);case 5:case"end":return n.stop()}}))},HighlightText:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.highlightText("highlight"));case 2:case"end":return t.stop()}}),null,this)},StrikethroughText:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.highlightText("strikeout"));case 2:t=document.getElementById("textTool"),t.style.visibility="hidden";case 4:case"end":return e.stop()}}),null,this)},CommentText:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(0==this.newComment.replace(/\s/g,"").length){t.next=3;break}return t.next=3,regeneratorRuntime.awrap(this.addCommentText());case 3:return t.next=5,regeneratorRuntime.awrap(this.commentText());case 5:case"end":return t.stop()}}),null,this)},addCommentText:function(){var t,e,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return t=document.getElementById("add-new-comment"),e=parseInt(t.style.top.substring(0,t.style.top.length-2)),o.next=4,regeneratorRuntime.awrap(Qn.getStoreAdapter().addComment(this.documentId,this.annotation,this.newComment,this.selectedText,e));case 4:return n=o.sent,o.next=7,regeneratorRuntime.awrap(this.comments.push(n));case 7:return o.next=9,regeneratorRuntime.awrap(this.comments.sort((function(t,e){return t.topPosition>=e.topPosition?1:-1})));case 9:return document.getElementById("add-new-comment").style.display="none",o.next=12,regeneratorRuntime.awrap(this.updatePositionsAfterCommentAdded());case 12:this.newComment="";case 13:case"end":return o.stop()}}),null,this)},commentText:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.highlightText("comment-highlight"));case 2:this.updateCommentPositions(),this.displayAddNewCommentForm(),event.stopPropagation();case 5:case"end":return t.stop()}}),null,this)},highlightText:function(t){var e,n,o,r,i,a,s=this;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:if(this.svg){c.next=2;break}return c.abrupt("return");case 2:if(e=this.svg.getBoundingClientRect(),n="FFFF00","strikeout"==t&&(n="FF0000"),o={type:t,color:n,rectangles:Object(h["a"])(this.rects).map((function(n){var o=0;return"strikeout"==t&&(o=n.height/2),N(s.svg,{y:n.top+o-e.top,x:n.left-e.left,width:n.width,height:n.height})})).filter((function(t){return t.width>0&&t.height>0&&t.x>-1&&t.y>-1}))},0!==o.rectangles.length){c.next=8;break}return c.abrupt("return");case 8:return o.rectangles.length>2&&(o.rectangles=this.removeMinHeigthRects(o.rectangles)),r=q(this.svg),i=r.documentId,a=r.pageNumber,o.top=parseInt(this.target.style.top.substring(0,this.target.style.top.length-2)),o.pageNum=a,o.pageHeight=this.svg.getAttribute("height"),this.annotation=o,c.next=16,regeneratorRuntime.awrap(Qn.getStoreAdapter().addAnnotation(i,a,o).then((function(t){xt(s.svg,t),s.hideTextToolBar()})));case 16:case"end":return c.stop()}}),null,this)},updateCommentPositions:function(){var t=this,e=document.querySelectorAll(".comment-card"),n=document.querySelectorAll("g[data-pdf-annotate-type='comment-highlight']"),o=Array.prototype.slice.call(n);if(o.sort(this.compareTopAttributes),this.order=o.findIndex((function(e){return e.dataset.pdfAnnotateId==t.annotation.uuid})),this.hasSpace=this.hasEnoughSpace(e),!this.hasSpace){var r=this.svg,i=parseInt(this.target.style.top.substring(0,this.target.style.top.length-2)),a=r.getAttribute("height"),s=r.getAttribute("data-pdf-annotate-page"),c=0;s>1&&(c+=(s-1)*a);var u=c+i-35,l=u+126;if(0==this.order)this.moveDownFromEndPos(e,0,l);else if(this.order==o.length-1)this.moveUpFromTopPos(e,e.length-1,u);else{var d=parseInt(e[this.order-1].style.top.substring(0,e[this.order-1].style.top.length-2)),p=d+e[this.order-1].offsetHeight;if(p>u-10)this.moveUpFromTopPos(e,this.order-1,u);else{var m=e[this.order-1].getAttribute("highlight-id"),h=this.getHighlightByCommentId(m),g=parseInt(h.getAttribute("top"))-35;h.getAttribute("page-num")>1&&(g+=(h.getAttribute("page-num")-1)*h.getAttribute("page-height")),d<g&&this.moveDownToTopPos(e,this.order-1,u)}var f=parseInt(e[this.order].style.top.substring(0,e[this.order].style.top.length-2));if(f<l+10)this.moveDownFromEndPos(e,this.order,l);else{var v=e[this.order].getAttribute("highlight-id"),y=this.getHighlightByCommentId(v),b=parseInt(y.getAttribute("top"))-35;y.getAttribute("page-num")>1&&(b+=(y.getAttribute("page-num")-1)*y.getAttribute("page-height")),f>b&&this.moveUpToEndPos(e,this.order,l)}}}},updatePositionsAfterCommentAdded:function(){var t,e,n,o;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:t=document.querySelector(".comment-card[highlight-id='"+this.annotation.uuid+"']"),this.hasSpace||(e=document.querySelectorAll(".comment-card"),n=parseInt(t.getAttribute("top-position"))+t.offsetHeight,this.order<e.length-1&&this.moveUpToEndPos(e,this.order+1,n)),o=this,t.addEventListener("click",(function(){o.handleCommentCardClick(this)}));case 4:case"end":return r.stop()}}),null,this)},displayAddNewCommentForm:function(){var t=document.getElementById("add-new-comment");t.style.visibility="visible";var e=this.svg,n=parseInt(this.target.style.top.substring(0,this.target.style.top.length-2)),o=e.getAttribute("height"),r=e.getAttribute("data-pdf-annotate-page"),i=0;r>1&&(i+=(r-1)*o);var a=i+n-35;t.style="width: 100%; position: absolute; left: 5px; top: "+a+"px;",this.hideTextToolBar();var s=document.getElementById("comment-text-area");s.focus(),this.inputHeight=parseInt(s.style.height.substring(0,s.style.height.length-2));var c=this;s.addEventListener("keydown",(function(){var t=document.querySelectorAll(".comment-card");t.length>0&&setTimeout((function(){var e=parseInt(s.style.height.substring(0,s.style.height.length-2)),n=document.getElementById("add-new-comment"),o=parseInt(n.style.top.substring(0,n.style.top.length-2)),r=o+n.offsetHeight;c.inputHeight<e?c.order<=t.length-1&&c.moveDownFromEndPos(t,c.order,r):c.inputHeight>e&&c.order<t.length&&c.moveUpToEndPos(t,c.order,r),c.inputHeight=e}),100)}))},cancelCommentText:function(){var t=this;this.newComment="";var e=q(this.svg).documentId,n=document.getElementById("add-new-comment"),o=parseInt(n.style.top.substring(0,n.style.top.length-2)),r=o+n.offsetHeight;n.style.display="none";var i=document.querySelectorAll(".comment-card");if(i.length>0){if(this.order<=i.length-1&&(this.moveUpToEndPos(i,this.order,o),this.order>0)){var a=this.comments[this.order].topPosition;this.moveDownToTopPos(i,this.order-1,a)}this.order==i.length&&this.moveDownToTopPos(i,this.order-1,r)}Qn.getStoreAdapter().deleteAnnotation(e,this.annotation.uuid).then((function(e){e&&(document.querySelector("g[data-pdf-annotate-id='"+t.annotation.uuid+"']").remove(),t.annotation=null)}))},unselectHighlightComment:function(){var t=document.getElementsByClassName("comment-highlight-selected");t.length>0&&t[0].classList.remove("comment-highlight-selected");var e=document.getElementsByClassName("comment-card-selected");e.length>0&&e[0].classList.remove("comment-card-selected")},moveUpFromTopPos:function(t,e,n){var o=this.comments[e].topPosition,r=o+t[e].offsetHeight;if(this.comments[e].topPosition=o-(r-n)-10,e>0)for(var i=e-1;i>=0;i--){var a=this.comments[i+1].topPosition,s=this.comments[i].topPosition,c=s+t[i].offsetHeight;if(!(c>a-10))break;this.comments[i].topPosition=s-(c-a)-10}},moveUpToEndPos:function(t,e,n){var o=this.getHighlightByCommentId(this.comments[e].uuid),r=parseInt(o.getAttribute("top"))-35;if(o.getAttribute("page-num")>1&&(r+=(o.getAttribute("page-num")-1)*o.getAttribute("page-height")),this.comments[e].topPosition>r){var i=r>=n+10?r:n+10;if(this.comments[e].topPosition=i,t.length>e+1)for(var a=e+1;a<this.comments.length;a++){var s=this.comments[a-1].topPosition,c=s+t[a-1].offsetHeight,u=this.comments[a].topPosition;if(!(u>c+10))break;var l=this.getHighlightByCommentId(this.comments[a].uuid),d=parseInt(l.getAttribute("top"))-35;if(l.getAttribute("page-num")>1&&(d+=(l.getAttribute("page-num")-1)*l.getAttribute("page-height")),u>d){var p=d>=c+10?d:c+10;this.comments[a].topPosition=p}}}},moveDownToTopPos:function(t,e,n){var o=this.comments[e].topPosition,r=o+t[e].offsetHeight,i=this.getHighlightByCommentId(this.comments[e].uuid),a=parseInt(i.getAttribute("top"))-35;if(i.getAttribute("page-num")>1&&(a+=(i.getAttribute("page-num")-1)*i.getAttribute("page-height")),o<a){var s=a<=o+(n-r)-10?a:o+(n-r)-10;if(this.comments[e].topPosition=s,e>0)for(var c=e-1;c>=0;c--){var u=this.comments[c+1].topPosition,l=this.comments[c].topPosition,d=l+t[c].offsetHeight;if(!(d<u-10))break;var p=this.getHighlightByCommentId(this.comments[c].uuid),m=parseInt(p.getAttribute("top"))-35;if(p.getAttribute("page-num")>1&&(m+=(p.getAttribute("page-num")-1)*p.getAttribute("page-height")),l<m){var h=m<=l+(u-d)-10?m:l+(u-d)-10;this.comments[c].topPosition=h}}}},moveDownFromEndPos:function(t,e,n){if(this.comments[e].topPosition=n+10,this.comments.length>e+1)for(var o=e+1;o<this.comments.length;o++){var r=this.comments[o-1].topPosition,i=r+t[o-1].offsetHeight,a=this.comments[o].topPosition;if(!(a<i+10))break;this.comments[o].topPosition=a+(i-a)+10}},hasEnoughSpace:function(t){if(this.comments.length>0){var e=this.svg,n=parseInt(this.target.style.top.substring(0,this.target.style.top.length-2)),o=e.getAttribute("height"),r=e.getAttribute("data-pdf-annotate-page"),i=0;r>1&&(i+=(r-1)*o);var a=i+n-35,s=a+105,c=this.comments[0].topPosition,u=this.comments[this.comments.length-1].topPosition+t[t.length-1].offsetHeight;if(s<c||a>u)return!0;if(this.comments.length>1)for(var l=0;l<this.comments.length-1;l++){var d=this.comments[l].topPosition,p=d+t[l].offsetHeight,m=this.comments[l+1].topPosition;if(a>p&&s<m)return!0}return!1}return!0},compareTopAttributes:function(t,e){var n=parseInt(t.getAttribute("top"));t.getAttribute("page-num")>1&&(n+=(t.getAttribute("page-num")-1)*t.getAttribute("page-height"));var o=parseInt(e.getAttribute("top"));if(e.getAttribute("page-num")>1&&(o+=(e.getAttribute("page-num")-1)*e.getAttribute("page-height")),n>o)return 1;if(o>n)return-1;if(o==n){var r=parseInt(t.getAttribute("order")),i=parseInt(e.getAttribute("order"));if(r>i)return 1;if(i>r)return-1}return 0},removeMinHeigthRects:function(t){var e=Math.min.apply(Math,Object(h["a"])(t.map((function(t){return t.height}))));return t.filter((function(t){return t.height!=e}))},displayEditComment:function(t){this.comments.forEach((function(t){t.isSelected=!1})),t.isSelected=!0,this.$forceUpdate();var e="comment"+t.uuid;this.$refs[e][0].$el.childNodes[0].focus()},editCommentCard:function(){},deleteCommentCard:function(t){console.log(t)},hideTextToolBar:function(){var t=document.getElementById("textTool");t.style.visibility="hidden"},getHighlightByCommentId:function(t){return document.querySelector("g[data-pdf-annotate-id='"+t+"']")},getSelectionRects:function(){var t=window.getSelection(),e=t.getRangeAt(0),n=e.getClientRects();return n.length>0&&n[0].width>0&&n[0].height>0?n:null},hasAParentWithClass:function(t,e){for(var n=0;n<=5;n++){if(t.classList.contains(e))return!0;t=t.parentNode}return!1}}},ro=oo,io=Object(u["a"])(ro,p,m,!1,null,null,null),ao=io.exports,so=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"test"},[n("div",[n("div",{staticStyle:{width:"420px",margin:"auto",padding:"30px",border:"#d4d3d3 solid 1px","border-radius":"8px","background-color":"white"}},[n("div",[n("el-form",{attrs:{model:t.form}},[n("div",[n("el-button",{attrs:{plain:""}},[t._v(" Edvision Logo ")]),n("p",{staticClass:"welcome"},[t._v(" Welcome back, please login to your account. ")])],1),n("el-form-item",{staticStyle:{"text-align":"left"}},[n("span",{staticStyle:{"font-size":"15px","font-weight":"bold",color:"#409eff"}},[t._v(" Institution Email ")]),n("el-input",{attrs:{id:"email",type:"text"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}),n("br")],1),n("el-form-item",{staticStyle:{"text-align":"left"}},[n("span",{staticStyle:{"font-size":"15px","font-weight":"bold",color:"#409eff"}},[t._v(" Password ")]),n("el-input",{attrs:{id:"password",type:"password",autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("el-form-item",[n("el-checkbox",{staticStyle:{float:"left"}},[t._v(" Remember Me ")]),n("a",{staticStyle:{float:"right",color:"#409eff","text-decoration":"none"},attrs:{href:"https://netid.usf.edu/una/?display=reset"}},[t._v(" Forgot Password? ")])],1),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.login()}}},[t._v(" Sign in to EdVision ")])],1),n("el-form-item",[n("form",{ref:"googleLoginForm",attrs:{method:"post",action:t.googleFormAction}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.submitGoogleLoginForm()}}},[t._v(" Sign in with Google ")])],1)]),n("el-form-item",[n("form",{ref:"facebookLoginForm",attrs:{method:"post",action:t.facebookFormAction}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){return t.submitFacebookLoginForm()}}},[t._v(" Sign in with Facebook ")])],1)]),n("div",{staticStyle:{"font-size":"14px","text-align":"center","padding-bottom":"5px"}},[t._v(" By logging in, I agree to the "),n("a",{staticStyle:{color:"#409eff","text-decoration":"none"},attrs:{href:"#"}},[t._v(" terms ")]),t._v(" and "),n("a",{staticStyle:{color:"#409eff","text-decoration":"none"},attrs:{href:"#"}},[t._v(" policies ")])]),n("hr"),n("el-form-item",{staticStyle:{"margin-bottom":"5px"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",plain:""}},[t._v(" Contact Support ")])],1)],1)],1)])]),n("div",{staticStyle:{width:"30%",margin:"auto","margin-top":"20px"}},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.apiCall()}}},[t._v(" Api Call ")]),n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.logout()}}},[t._v(" Logout ")])],1),t.weathers&&t.weathers.length>0?n("el-table",{staticStyle:{width:"50%",margin:"auto","margin-top":"20px"},attrs:{data:t.weathers,border:""}},[n("el-table-column",{attrs:{prop:"date",label:"Date",width:"180"}}),n("el-table-column",{attrs:{prop:"temperatureC",label:"Temperature C",width:"180"}}),n("el-table-column",{attrs:{prop:"temperatureF",label:"Temperature F"}}),n("el-table-column",{attrs:{prop:"summary",label:"Summary"}})],1):t._e()],1)},co=[],uo=n("bc3a"),lo=n.n(uo),po=function(){var t=window.location.href,e=t.split("/"),n=e[0],o=window.location.host;return"".concat(n,"//").concat(o)},mo=function(){var t="api";return"".concat(po(),"/").concat(t)},ho={baseURL:mo(),timeout:1e5},go=lo.a.create(ho),fo={request:function(t){throw new Error("Not Implemented")},get:function(t,e){return go.get(t,e)},delete:function(t,e){return go.delete(t,e)},head:function(t,e){throw new Error("Not Implemented")},options:function(t,e){throw new Error("Not Implemented")},post:function(t,e,n){return go.post(t,e,n)},put:function(t,e,n){return go.put(t,e,n)},patch:function(t,e,n){throw new Error("Not Implemented")}},vo=fo,yo={name:"Test",data:function(){return{weathers:[],user:null,mgr:null,username:"guest",form:{username:"",password:""},access_token:null,fbSignInParams:{scope:"email",return_scopes:!0},googleExternalLogin:null,returnUrl:"/about",googleFormAction:null,facebookFormAction:null}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.googleFormAction="api/auth/external/google/"+encodeURIComponent(this.returnUrl),this.facebookFormAction="api/auth/external/facebook/"+encodeURIComponent(this.returnUrl);case 2:case"end":return t.stop()}}),null,this)},methods:{oauthSignIn:function(){var t="https://accounts.google.com/o/oauth2/v2/auth",e=document.createElement("form");e.setAttribute("method","GET"),e.setAttribute("action",t);var n={client_id:"296436268455-jec5622h7o285l5thb6es3cs2dkv4m45.apps.googleusercontent.com",redirect_uri:"http://localhost:3011/about",response_type:"token",scope:"https://www.googleapis.com/auth/drive.metadata.readonly",include_granted_scopes:"true",state:"pass-through value"};for(var o in n){var r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",o),r.setAttribute("value",n[o]),e.appendChild(r)}document.body.appendChild(e),e.submit()},submitGoogleLoginForm:function(){this.$refs.googleLoginForm.submit()},submitFacebookLoginForm:function(){this.$refs.facebookLoginForm.submit()},login:function(){var t=this;console.log(this.form),vo.post("https://localhost:6990/api/auth/login",{Email:this.form.username,Password:this.form.password}).then((function(e){console.log(e),t.username=e.data.email,t.access_token=e.data.message})).catch((function(t){console.log(t)}))},apiCall:function(){var t=this,e={headers:{Authorization:"Bearer ".concat(this.access_token)}},n="https://localhost:6990/api/weatherforecast";vo.get(n,e).then((function(e){e&&e.data.length>0&&(t.weathers=e.data)})).catch((function(e){t.$notify.error({title:"Error",message:e})}))}}},bo=yo,xo=(n("ae10"),n("b8ee"),Object(u["a"])(bo,so,co,!1,null,"08242377",null)),wo=xo.exports,Ao=n("4360"),Co=n("5c96"),Eo=n("323e"),So=n.n(Eo);n.d(e,"b",(function(){return Io})),n.d(e,"a",(function(){return ko})),o["default"].use(r["a"]);var Io=[{path:"/",name:"Home",component:d,meta:{plainLayout:!1}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/document",name:"Document",component:ao},{path:"/test",name:"Test",component:wo,meta:{plainLayout:!0}}],ko=[{path:"*",redirect:"/404",hidden:!0}],Lo=function(){return new r["a"]({mode:"history",routes:Io})},_o=Lo();e["c"]=_o;So.a.configure({showSpinner:!1});var Po=["/login","/auth-redirect"];_o.beforeEach((function(t,e,n){var o,r,i;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:if(So.a.start(),o=!0,!o){e.next=27;break}if("/login"!==t.path){e.next=7;break}n({path:"/"}),e.next=25;break;case 7:if(r=!1,!r){e.next=12;break}n(),e.next=25;break;case 12:return e.prev=12,e.next=15,regeneratorRuntime.awrap(Ao["a"].dispatch("permission/generateRoutes"));case 15:i=e.sent,_o.addRoutes(i),n(),e.next=25;break;case 20:e.prev=20,e.t0=e["catch"](12),Co["Message"].error(e.t0||"Has Error"),n("/login?redirect=".concat(t.path)),So.a.done();case 25:e.next=28;break;case 27:-1!==Po.indexOf(t.path)?n():n("/login?redirect=".concat(t.path));case 28:case"end":return e.stop()}}),null,null,[[12,20]])})),_o.afterEach((function(){So.a.done()}))},ae10:function(t,e,n){"use strict";var o=n("4b67"),r=n.n(o);r.a},b0b5:function(t,e,n){},b4e9:function(t,e,n){},b8ee:function(t,e,n){"use strict";var o=n("1ba5"),r=n.n(o);r.a},c616:function(t,e,n){"use strict";var o=n("7467"),r=n.n(o);r.a},c653:function(t,e,n){var o={"./permission.js":"31c2"};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id="c653"},ca13:function(t,e,n){},f691:function(t,e,n){"use strict";var o=n("ca13"),r=n.n(o);r.a},f882:function(t,e,n){}});
//# sourceMappingURL=app.1eab24a9.js.map